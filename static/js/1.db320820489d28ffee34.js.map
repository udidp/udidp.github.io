{"version":3,"sources":["webpack:///./src/bizlib/web3/dns-api.js","webpack:///src/views/Domain/DnsUpdate.vue","webpack:///./src/views/Domain/DnsUpdate.vue?8ff6","webpack:///./src/views/Domain/DnsUpdate.vue"],"names":["_ref","_ref2","hexToString","Web3","utils","getDnsInfoByHash","asyncToGenerator_default","regenerator_default","a","mark","_callee","namehash","chainId","wallet","web3js","inst","resp","ret","wrap","_context","prev","next","getWeb3","basDnsInstance","from","methods","query","call","sent","ipv4","hex2IPv4","ipv6","hex2IPv6","bca","hexBca2Str","alias","aliasName","extrainfo","opData","extraHex2Str","abrupt","stop","this","_x","_x2","_x3","apply","arguments","_callee2","domaintext","_context2","hex","test","_hexStr","startsWith","substr","tmp","i","parseInt","substring","join","ex","DnsUpdate","name","components","LoadingDot","computed","isOpenToPublicLabel","$t","dnsPlaceHolder","state","dnsEditDisabled","domainText","Object","params","domain","domainType","dType","Validator","getDomainType","expireDate","asset","expire","oaConfirmMessage","openApplied","editCustomPriceEnable","isCustomed","customedLoading","isCustomedCheckDisabled","showCustomedSaveText","ctrl","canCustomedSave","isTopDomain","isTop","dnsDisabled","dnsLoading","loading","ipLoading","walletLoading","aliasLaoding","extraLoading","getNotice","lg","$store","lang","externalBAS","ruleState","data","tip","oaConfirmTitle","openAppliedDialogVisible","subUnitPrice","owner","customPrice","Math","pow","domainhash","dns","decimals","rareGas","topGas","subGas","maxYearReg","aliasLen","extensionLen","dappState","oriOpenApplied","oaLoading","customeddisabled","oridns","trimIPv4Text","val","trim","trimIPv6Text","trimWalletText","trimAliasText","reloadDNSconfig","_this","getters","handleText","proxy","DomainProxy","getDomainInfo","then","transData","assign_default","catch","reloadDNS","hash","_this2","web3State","web3","reloadDomain","text","deleteAll","_this3","msg","$message","$basTip","error","checkAuthor","oann_api","options","setRecord","send","clearDnsAttr","warn","exceptionMsg","OpenAppliedChanged","cancelOpenApplied","confirmOpenApplied","_this4","commitState","openToPublic","closeToPublic","showOpenAppliedConfirm","customedPriceChanged","oriPrice","customePrice","parseFloat","customedCheckedChange","errMsg","$metamask","networks","setCustomed","openCustomPrice","closeCustomed","_this5","commitPriceWei","externalWei","token","approveAddress","basBal","token_api","_address","balanceOf","approve","flag","openCustomedPrice","_this6","closeCustomedPrice","code","editSetting","changeDnsEdit","saveAll","_this7","address","isAddress","stringToHex","length","extraBytes","mounted","_this8","$route","pOpenApplied","pIsCustomed","pPrice","price","domainCode","keccak256","isSub","Boolean","Domain_DnsUpdate","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","body-style","shadow","staticStyle","font-size","color","_v","_s","label-width","label","on","change","model","value","callback","$$v","$set","expression","disabled","float","_e","slot","precision","step","controls-position","min","type","click","visible","title","before-close","width","size","border-top","placeholder","input","autosize","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.db320820489d28ffee34.js","sourcesContent":["import { basDnsInstance } from './instances'\nimport { getWeb3} from './index'\n\nconst hexToString = Web3.utils.hexToString\n\n/**\n * \"0x1d0eea4cb6d379a7d38fa9fb4ea37166438cfc35c89276248729fa2f3004e7f4\"\n * @param {*} namehash\n */\nexport async function getDnsInfoByHash(namehash,chainId,wallet){\n  let web3js = getWeb3()\n  const inst = basDnsInstance(web3js,chainId,{from:wallet})\n  const resp = await inst.methods.query(namehash).call()\n  const ret = {\n    namehash: namehash,\n    ipv4: hex2IPv4(resp.ipv4),\n    ipv6: hex2IPv6(resp.ipv6),\n    wallet: resp.bca ? hexBca2Str(resp.bca) : '',\n    alias: resp.aliasName||'',\n    extrainfo: resp.opData ? extraHex2Str(resp.opData) :''\n  }\n\n  return ret\n}\n/**\n *\n * @param {*} domaintext\n * @param {*} chainId\n * @param {*} wallet\n */\nexport async function getDomainDnsInfo(domaintext,chainId,wallet) {\n\n}\n\nexport function hexBca2Str(bca){\n  if(!bca || bca === '0x')return ''\n  return bca+''\n}\n\nexport function hex2IPv4(hex) {\n  if (!hex) return ''\n  if (/^(0x)?[0]{8}$/.test(hex)) return ''\n  let _hexStr = hex + '';\n  if (hex.startsWith('0x')) _hexStr = hex.substr(2)\n  let tmp = [4]\n  for (var i = 0; i < 4; i++) {\n    tmp[i] = parseInt(_hexStr.substring(i * 2, (i + 1) * 2), 16)\n  }\n  return tmp.join('.')\n}\n/**\n *\n * @param {*} hex\n */\nexport function hex2IPv6(hex) {\n  if (!hex) return ''\n  if (/^(0x)?[0]{32}$/.test(hex)) return '';\n  let _hexStr = hex + '';\n  if (hex.startsWith('0x')) _hexStr = hex.substr(2);\n  let tmp = [8]\n  for (var i = 0; i < 8; i++) {\n    tmp[i] = _hexStr.substring(i * 4, (i + 1) * 4)\n  }\n  return tmp.join(':')\n}\n\nexport function extraHex2Str(hex){\n  try{\n    return hexToString(hex)\n  }catch(ex){\n    console.log(ex)\n    return ''\n  }\n}\n\nexport default {\n  getDnsInfoByHash\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/bizlib/web3/dns-api.js","<template>\n  <div class=\"container bg-white\">\n    <div class=\"row justify-content-center align-items-center\">\n      <el-card body-style=\"backgroup:rgba(245,246,246,1);\"\n        shadow=\"never\"\n        class=\"col-md-8 col-sm-10 box-card bas-gray-bg\">\n        <div class=\"bas-inline-flex\" >\n          <div class=\"bas-info-label bas-label-100\" style=\"font-size:1.25rem;color:#04062E;\">\n            {{$t('l.Domain')}}\n          </div>\n          <div class=\"bas-info-text \">\n            <span style=\"font-size:1.45rem;\">\n              {{ domainText }}\n            </span>\n            <span class=\"domain-type-boxer\">\n              {{domainType}}\n            </span>\n          </div>\n        </div>\n        <div class=\"bas-inline-flex pt-3\">\n          <div class=\"bas-info-label bas-label-100\">\n            {{$t('l.Owner')}}\n          </div>\n          <div class=\"bas-info-text\">\n            {{asset.owner}}\n          </div>\n        </div>\n        <div class=\"bas-inline-flex\">\n          <div class=\"bas-info-label bas-label-100\">\n            {{$t('l.ExpiredDate')}}\n          </div>\n          <div class=\"bas-info-text\">\n            {{expireDate}}\n          </div>\n        </div>\n        <div class=\"bas-inline-flex\">\n          <div class=\"bas-info-label bas-label-100\">\n            {{$t('l.DomainHash')}}\n          </div>\n          <div class=\"bas-info-text\">\n            {{asset.domainhash}}\n          </div>\n        </div>\n      </el-card>\n    </div>\n\n    <!-- SubDomain Setting -->\n    <div v-if=\"isTopDomain\"\n      class=\"row justify-content-center align-items-center\">\n      <div class=\"col-md-8 col-sm-10\">\n        <div class=\"pt-4 pb-2\">\n          <h5>{{$t('l.SubDomainConfiguration')}}</h5>\n        </div>\n      </div>\n\n      <el-form\n        label-width=\"220px\"\n        class=\"col-md-8 col-sm-10\">\n        <el-form-item :label=\"isOpenToPublicLabel\">\n          <el-radio-group\n            @change=\"OpenAppliedChanged\"\n            v-model=\"asset.openApplied\">\n            <el-radio :label=\"false\" :disabled=\"state.oaLoading\"\n              @change=\"showOpenAppliedConfirm\">\n              {{$t('l.N')}}\n            </el-radio>\n            <el-radio :disabled=\"state.oaLoading\"\n              @change=\"showOpenAppliedConfirm\"\n              :label=\"true\">\n              {{$t('l.Y')}}\n            </el-radio>\n          </el-radio-group>\n          <loading-dot v-if=\"state.oaLoading\" style=\"float:right;\"/>\n        </el-form-item>\n        <el-form-item >\n          <label slot=\"label\">{{$t('l.SubDomainPrice')}}</label>\n          <el-input-number v-model=\"ctrl.subUnitPrice\" name=\"subUnitPrice\"\n            :precision=\"2\" :step=\"1.0\" :disabled=\"!editCustomPriceEnable\"\n            controls-position=\"right\"\n            @change=\"customedPriceChanged\"\n            :min=\"ruleState.subGas\" class=\"w-25\">\n          </el-input-number>\n          <el-checkbox v-model=\"asset.isCustomed\"\n            @change=\"customedCheckedChange\"\n            :disabled=\"isCustomedCheckDisabled\"\n            class=\"bas-domain--setprice-tip\">\n            Notice: {{getNotice}}\n          </el-checkbox>\n          <loading-dot v-if=\"state.customedLoading\" style=\"float:right;\"/>\n        </el-form-item>\n        <el-form-item label=\"\">\n          <el-button @click=\"setCustomed\" :disabled=\"state.customedLoading\"\n            type=\"primary\" class=\"bas-btn-primary w-25\">\n            {{  $t('g.Confirm') }}\n          </el-button>\n        </el-form-item>\n      </el-form>\n      <el-dialog :visible=\"ctrl.openAppliedDialogVisible\"\n        :title=\"tip.oaConfirmTitle\"\n        :before-close=\"cancelOpenApplied\"\n        width=\"30%\">\n        <h5 class=\"text-center\">\n          {{oaConfirmMessage}}\n        </h5>\n        <div class=\"dialog-footer\" slot=\"footer\">\n          <el-button size=\"mini\"\n            @click=\"cancelOpenApplied\">\n            {{  $t('g.Cancel') }}\n          </el-button>\n          <el-button type=\"primary\" class=\"bas-btn-primary\"\n            size=\"mini\"\n            @click=\"confirmOpenApplied\">\n            {{  $t('g.Confirm') }}\n          </el-button>\n        </div>\n      </el-dialog>\n    </div>\n\n    <div v-if=\"isTopDomain\"\n      class=\"row justify-content-center align-content-center\">\n      <div class=\"bas-split-h\" style=\"width:90%;border-top:1px solid rgba(150,150,166,1);\"></div>\n    </div>\n\n    <div class=\"row justify-content-center align-items-center\">\n      <div class=\"col-md-8 col-sm-10\">\n        <div class=\"bas-refs-header pt-3 pb-2\">\n          <div>\n            <h5>{{$t('l.DnsMappingData')}}</h5>\n          </div>\n          <!-- <div>\n            <a class=\"btn btn-sm bas-btn-primary\"\n              v-if=\"dnsDisabled\"\n              @click=\"updateAll\"\n              style=\"width:100px;\"\n              :class=\"loading ? 'bas-disabled' : ''\">\n              {{ $t('g.Update')}}\n            </a>\n            <a class=\"btn btn-sm bas-btn-primary\"\n              v-if=\"!dnsDisabled\"\n              @click=\"saveAll\"\n              style=\"width:100px;\"\n              :class=\"loading ? 'bas-disabled' : ''\">\n               {{ $t('g.Saving') }}\n            </a>\n          </div> -->\n        </div>\n      </div>\n    </div>\n    <div class=\"row justify-content-center align-items-center\">\n\n      <el-form class=\"col-md-8 col-sm-10\" label-width=\"140px\">\n        <el-form-item >\n          <div class=\"bas-w-68 dns-demo-wrapper\">\n            <span>\n              {{$t('l.DemoIPPrefix')}} 104.238.165.23\n            </span>\n          </div>\n        </el-form-item>\n        <el-form-item label=\"IPV4\">\n          <el-input v-model=\"dns.ipv4\"\n            :placeholder=\"dnsPlaceHolder\"\n            @input=\"trimIPv4Text\"\n            :disabled=\"dnsDisabled\"\n            class=\"bas-w-68\"/>\n\n        </el-form-item>\n        <el-form-item label=\"IPV6\">\n          <el-input  v-model=\"dns.ipv6\"\n            :placeholder=\"dnsPlaceHolder\"\n            :disabled=\"dnsDisabled\"\n            @input=\"trimIPv6Text\"\n            class=\"bas-w-68\"/>\n        </el-form-item>\n        <el-form-item >\n          <label slot=\"label\">\n            {{$t('l.BlockChainAddress')}}\n          </label>\n          <el-input v-model=\"dns.wallet\"\n            :placeholder=\"dnsPlaceHolder\"\n            @input=\"trimWalletText\"\n            :disabled=\"dnsDisabled\"\n            class=\"bas-w-68\"/>\n        </el-form-item>\n        <el-form-item>\n          <label slot=\"label\">\n            {{$t('l.Alias')}}\n          </label>\n          <el-input v-model=\"dns.alias\"\n            :placeholder=\"dnsPlaceHolder\"\n            @input=\"trimAliasText\"\n            :disabled=\"dnsDisabled\"\n            class=\"bas-w-68\" />\n        </el-form-item>\n        <el-form-item >\n          <label slot=\"label\">\n            {{$t('l.ExtraInfo')}}\n          </label>\n          <el-input\n            :disabled=\"dnsDisabled\"\n            v-model=\"dns.extrainfo\"\n            :placeholder=\"dnsPlaceHolder\"\n            class=\"bas-w-68\"\n            type=\"textarea\" autosize/>\n        </el-form-item>\n        <el-form-item label=\"\">\n          <span slot=\"label\">\n            <loading-dot v-if=\"state.dnsLoading\" style=\"float:left;\"/>\n          </span>\n\n          <el-button v-if=\"state.dnsEditDisabled\"\n            :disabled=\"state.dnsLoading\"\n\n            type=\"primary\" class=\"bas-w-68 bas-btn-primary\"\n            @click=\"changeDnsEdit(false)\">\n            {{$t('l.UpdateInfoBtn')}}\n          </el-button>\n          <el-button v-if=\"!state.dnsEditDisabled\"\n            :disabled=\"state.dnsLoading\"\n            type=\"primary\" class=\"bas-w-40 bas-btn-primary\"\n            @click=\"saveAll\">\n            {{$t('g.Confirm')}}\n          </el-button>\n\n          <el-button\n            v-if=\"!state.dnsEditDisabled\"\n            :disabled=\"state.dnsLoading\"\n            type=\"plain\" class=\"w-25\"\n            @click=\"changeDnsEdit(true)\">\n            {{$t('g.Cancel')}}\n          </el-button>\n        </el-form-item>\n        <el-form-item label=\"\">\n          <el-button type=\"Warning\" class=\"bas-w-68 bas-btn-pink\"\n            :disabled=\"state.dnsLoading\"\n            @click=\"deleteAll\">\n            {{$t('l.ClearAllConfiguration')}}\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n<style>\ndiv.bas-w-68 > input.el-input__inner::-webkit-input-placeholder {\n  color: rgba(4, 6, 46, .3) !important;\n}\ndiv.bas-w-68 > input.el-input__inner::-moz-placeholder {\n   color: rgba(4, 6, 46, .3) !important;\n}\ndiv.bas-w-68 > input::-ms-input-placeholder {\n   color: rgba(4, 6, 46, .3) !important;\n}\ndiv.bas-w-68 > textarea.el-textarea__inner::-webkit-input-placeholder {\n   color: rgba(4, 6, 46, .3) !important;\n}\ndiv.bas-w-68 > textarea.el-textarea__inner::-moz-placeholder {\n   color: rgba(4, 6, 46, .3) !important;\n}\ndiv.bas-w-68 > textarea.el-textarea__inner::-ms-input-placeholder\n{\n  color: rgba(4, 6, 46, .3) !important;\n}\n.el-input.is-disabled .el-input__inner {\n  color:rgba(4, 6, 46, .9) !important;\n}\n.dns-demo-wrapper {\n  height: 32px;\n  display: inline-flex;\n  direction: column;\n  background:rgba(0,202,155,.1);\n  color: rgba(0,202,155,1);\n  border-radius:2px;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.dns-demo-ip p {\n  line-height: 30px;\n}\n.domain-type-boxer {\n  padding: 4px 1rem;\n  color: #00ca9b;\n  margin-left: .5rem;\n  border-radius: 1rem;\n  border: 1px solid #00ca9b;\n}\n</style>\n<script>\nimport LoadingDot from '@/components/LoadingDot.vue'\nimport {\n  transBAS2Wei,\n  dateFormat,\n  isOwner,\n  handleDomain,\n  toUnicodeDomain,\n  validIPv4, validIPv6,\n  IPv6ToHex, IPv4ToHex,\n} from '@/utils'\nimport { checkSupport } from '@/bizlib/networks';\nimport {getCurrentState,getWeb3State} from '@/bizlib/web3'\nimport { getBasAssetInstance,getDomainDetails } from '@/bizlib/web3/asset-api.js'\nimport {getBasTokenInstance} from '@/bizlib/web3/token-api'\nimport { oannInstance } from '@/bizlib/web3/oann-api'\nimport DomainValidator from '@/utils/Validator.js'\nimport DomainProxy from '@/proxies/DomainProxy.js'\nimport {getDnsInfoByHash} from '@/bizlib/web3/dns-api'\n\n\nexport default {\n  name:\"DnsUpdate\",\n  components:{\n    LoadingDot,\n  },\n  computed: {\n    isOpenToPublicLabel(){\n      return this.$t('l.HasOpenAppliedSubRegistLabel')\n    },\n    dnsPlaceHolder(){\n      return this.state.dnsEditDisabled ? this.$t('p.DnsConfigurationPlaceHolder'):''\n    },\n    domainText(){\n      return toUnicodeDomain(this.params.domain)\n    },\n    domainType(){\n      let domain = toUnicodeDomain(this.params.domain)\n      const dType =  DomainValidator.getDomainType(domain)\n\n      return this.$t(`g.${dType}`)\n    },\n    expireDate(){\n      if(!this.asset.expire)return ''\n      return dateFormat(this.asset.expire,'YYYY-MM-DD HH:mm:ss')\n    },\n    oaConfirmMessage(){\n      return this.asset.openApplied ?\n        this.$t('p.DnsUpdateOpenAppliedConfirmMsg') :  this.$t('p.DnsUpdateCloseAppliedConfirmMsg')\n    },\n    editCustomPriceEnable(){\n      return this.asset.openApplied && this.asset.isCustomed && !this.state.customedLoading\n    },\n    isCustomedCheckDisabled(){\n      return !this.asset.openApplied || this.state.customedLoading\n    },\n    showCustomedSaveText(){\n      return this.ctrl.canCustomedSave ?  this.$t('g.Saving') : this.$t('g.Update')\n    },\n    isTopDomain(){\n      return DomainValidator.isTop(this.params.domain)\n    },\n    dnsDisabled(){\n      return this.state.dnsEditDisabled || this.state.dnsLoading\n    },\n    loading(){\n      return this.state.ipLoading || this.state.walletLoading\n        || this.state.aliasLaoding || this.state.extraLoading;\n    },\n    getNotice(){\n      let lg = this.$store.state.lang\n      const externalBAS = this.ruleState.externalBAS\n      return lg === 'zh-CN' ? `如开启自定义价格，将额外收取 ${ externalBAS } BAS` : `If the custom price is turned on, an additional ${externalBAS} BAS will be charged`\n    }\n  },\n  data(){\n    return {\n      params:{\n        domain:''\n      },\n      tip:{\n        oaConfirmTitle:'提示',\n      },\n      ctrl:{\n        openAppliedDialogVisible:false,\n        subUnitPrice:4,\n        canCustomedSave:false,\n      },\n      asset:{\n        name:'',\n        owner:'',\n        expire:'',\n        openApplied:false,\n        isCustomed:false,\n        customPrice:4*10**18,\n        domainhash:'',\n      },\n      dns:{\n        ipv4:'',\n        ipv6:'',\n        wallet:'',\n        alias:'',\n        extrainfo:''\n      },\n      ruleState:{\n        decimals:18,\n        rareGas:500,\n        topGas:20,\n        subGas:4,\n        externalBAS:100,\n        maxYearReg:5,\n        aliasLen: 256,\n        extensionLen:512\n      },\n      dappState:{\n        wallet:'',\n        chainId:''\n      },\n      state:{\n        oriOpenApplied:false,\n        oaLoading:false,\n        customedLoading:false,\n        customeddisabled:false,\n        dnsLoading:false,\n        dnsEditDisabled:true,\n      },\n      oridns:{\n\n      }\n    }\n  },\n  methods:{\n    trimIPv4Text(val){\n      console.log(val)\n      if(val){\n        this.dns.ipv4 = val.trim()\n      }\n    },\n    trimIPv6Text(val){\n      if(val){\n        this.dns.ipv6 = val.trim()\n      }\n    },\n    trimWalletText(val){\n      if(val){\n        this.dns.wallet = val.trim()\n      }\n    },\n    trimAliasText(val){\n      if(val){\n        //this.dns.alias = val.trim()\n      }\n    },\n    reloadDNSconfig(domain){\n      let ruleState = this.$store.getters['web3/ruleState']\n      let handleText = handleDomain(domain)\n      let proxy = new DomainProxy()\n      proxy.getDomainInfo(handleText).then(resp=>{\n        //console.log(resp)\n        if(resp.state){\n          let data = proxy.transData(resp)\n          this.asset = Object.assign(this.asset,data.asset)\n          let decimals = ruleState.decimals||18\n          if(this.asset.isCustomed){\n            this.ctrl.subUnitPrice = this.asset.customPrice/(10 ** decimals)\n          }else{\n            this.ctrl.subUnitPrice = ruleState.subGas\n          }\n          this.dns = Object.assign(this.dns,data.dns)\n          this.oridns = Object.assign({},data.dns)\n        }else{\n          console.error(`unfound ${domain} from the API Server.`)\n        }\n      }).catch(ex=>{\n        console.log(ex)\n      })\n    },\n    reloadDNS(hash){\n      const web3State = getWeb3State();\n      let wallet = web3State.wallet;\n      let chainId = web3State.chainId;\n      if(hash){\n        getDnsInfoByHash(hash).then(ret=>{\n          console.log(hash,ret)\n          this.dns = Object.assign(ret)\n          this.oridns = Object.assign(ret)\n        }).catch(ex=>{\n          console.log(ex)\n        })\n      }\n    },\n    reloadDomain(text){\n\n    },\n    deleteAll(){\n      let msg = ''\n      if(this.state.dnsLoading){\n        msg = this.$t('g.TransactionWaitTips')\n        this.$message(this.$basTip.error(msg))\n        return false;\n      }\n      if(!this.checkAuthor()){\n        return;\n      }\n      const web3State = getWeb3State();\n\n      let inst = oannInstance(web3State.chainId,web3State.wallet)\n      let options = {from:web3State.wallet}\n\n      let namehash = this.asset.domainhash;\n      if(!namehash){\n        console.error(`${this.domainText} namehash is null`)\n        return\n      }\n\n      this.state.dnsEditDisabled = true;\n      this.state.dnsLoading = true;\n      inst.methods.setRecord(\n        namehash,\n        IPv4ToHex('0.0.0.0'),\n        IPv6ToHex('::'),\n        \"0x\",\n        '0x',\n        ''\n      ).send(options).then(resp=>{\n        this.state.dnsLoading = false\n        this.clearDnsAttr()\n        msg = this.$t('g.UpdateSuccess')\n        this.$message(this.$basTip.warn(msg))\n        // getDnsInfoByHash(hash).then(ret=>{\n        //   console.log(hash,ret)\n        //   this.dns = Object.assign({},ret)\n        //   this.oridns = Object.assign({},ret)\n        // }).catch(ex=>{\n        //   console.log(ex)\n        // })\n      }).catch(ex=>{\n        this.state.dnsLoading = false\n        this.exceptionMsg(ex)\n      })\n\n    },\n    OpenAppliedChanged(val){\n      console.log(val)\n    },\n    cancelOpenApplied(){\n      this.ctrl.openAppliedDialogVisible = false;\n      this.asset.openApplied = this.state.oriOpenApplied\n    },\n    confirmOpenApplied(){\n      let commitState = this.asset.openApplied\n      if(!this.checkAuthor())return;\n      console.log('>>>>',commitState)\n      //commitData\n      let msg = ''\n\n      const web3State = getWeb3State();\n      let inst = oannInstance(web3State.chainId,web3State.wallet)\n      let options = {from:web3State.wallet}\n\n      let namehash = this.asset.domainhash;\n      if(!namehash){\n        console.error(`${this.domainText} namehash is null`)\n        return\n      }\n\n      this.state.oaLoading = true\n      if(commitState){\n        inst.methods.openToPublic(namehash).send(options)\n          .then(resp=>{\n            this.state.oaLoading = false\n            this.asset.openApplied = true\n            msg = this.$t('g.UpdateSuccess')\n            this.$message(this.$basTip.warn(msg))\n          }).catch(ex=>{\n             this.state.oaLoading = false\n             this.asset.openApplied = false\n             this.exceptionMsg(ex)\n          })\n      }else {\n        inst.methods.closeToPublic(namehash).send(options)\n          .then(resp=>{\n            this.state.oaLoading = false\n            this.asset.openApplied = false\n            msg = this.$t('g.UpdateSuccess')\n            this.$message(this.$basTip.warn(msg))\n          }).catch(ex=>{\n             this.state.oaLoading = false\n             this.asset.openApplied = true\n             this.exceptionMsg(ex)\n          })\n      }\n      this.ctrl.openAppliedDialogVisible = false\n\n    },\n    showOpenAppliedConfirm(val){\n      this.ctrl.openAppliedDialogVisible = true\n      this.state.oriOpenApplied = !val\n    },\n    customedPriceChanged(val){\n      let decimals = this.ruleState.decimals ||18\n      let oriPrice = this.asset.customePrice/(10 ** decimals)\n      if(this.asset.openApplied && this.asset.isCustomed){\n        if((parseFloat(oriPrice) -parseFloat(val)) != 0.0){\n          this.ctrl.canCustomedSave = true\n        }\n      }\n    },\n    customedCheckedChange(val){\n      this.ctrl.canCustomedSave = true\n    },\n\n    //commit data Methods\n    checkAuthor(){\n      let state = getWeb3State();\n      let chainId = state.chainId;\n      let wallet = state.wallet;\n      let errMsg = this.$t('g.ParameterIllegal')\n      if(!chainId || !wallet){\n        this.$metamask()\n        //this.$message(this.$basTip.error('MetaMask 登录已失效,请点击我的钱包登录.'))\n        return false;\n      }\n      if(!checkSupport(chainId)){\n        errMsg = '当前网络不支持修改,请切换到Ropsten网络.'\n        this.$message(this.$basTip.error(errMsg))\n        return false;\n      }\n      let domain = this.domainText\n      if(!isOwner(this.asset.owner,wallet)){\n        errMsg = `请确认该域名: ${domain} 属于前钱包[${wallet}]账户下`\n        this.$message(this.$basTip.error(errMsg))\n        return false;\n      }\n      if(!this.asset.domainhash){\n        this.$message(this.$basTip.error(errMsg))\n        return false;\n      }\n      return true;\n    },\n    setCustomed(){\n      if(!this.checkAuthor()){\n        return;\n      }\n\n      if(this.state.customedLoading){\n        return\n      }\n      if(!this.asset.openApplied){\n        console.log('Error: open to pulic is false')\n        return;\n      }\n      let isCustomed = this.asset.isCustomed\n\n\n      const web3State = getWeb3State();\n      let inst = oannInstance(web3State.chainId,web3State.wallet)\n      let options = {from:web3State.wallet}\n\n      let namehash = this.asset.domainhash;\n      if(!namehash){\n        console.error(`${this.domainText} namehash is null`)\n        return\n      }\n      let msg = ''\n\n      if(isCustomed){\n        this.openCustomPrice(inst,namehash,web3State.wallet,options)\n      }else {\n        this.closeCustomed(inst,namehash,options)\n      }\n    },\n    async openCustomPrice(inst,hash,wallet,options){\n      let msg = ''\n      let subUnitPrice = this.ctrl.subUnitPrice\n      let decimals = this.ruleState.decimals||18\n      let commitPriceWei = transBAS2Wei(subUnitPrice)\n      //subUnitPrice* (10 ** decimals)\n      let externalWei = (this.ruleState.externalBAS||100) * (10**decimals)\n\n      let token = await getBasTokenInstance(wallet)\n      let approveAddress = inst._address\n\n      let basBal = await token.methods.balanceOf(wallet).call()\n      let basBalFloat = parseFloat(basBal/(10**decimals))\n      console.log(\"BAS Balance\",basBalFloat,'>>>',commitPriceWei)\n      if(basBalFloat - parseFloat(this.ruleState.externalBAS||100) < 0.0){\n        msg = this.$t('g.LackOfBasBalance')\n        this.$message(this.$basTip.error(msg))\n        return ;\n      }\n\n      this.state.customedLoading = true;\n      token.methods.approve(approveAddress,externalWei+'')\n        .send(options).then(ret=>{\n          msg = this.$t('p.DnsUpdateApproveSuccess')\n          this.$message(this.$basTip.warn(msg))\n          return true;\n        }).then(flag=>{\n          if(flag){\n            inst.methods.openCustomedPrice(hash,commitPriceWei+'')\n              .send(options)\n              .then(ret=>{\n                msg = this.$t('g.UpdateSuccess')\n                this.$message(this.$basTip.warn(msg))\n                this.asset.customPrice = commitPriceWei\n                this.state.customedLoading = false;\n              })\n              .catch(ex=>{\n                this.state.customedLoading = false;\n                this.exceptionMsg(ex)\n              })\n          }\n          this.ctrl.canCustomedSave = false\n        }).catch(ex=>{\n          this.state.customedLoading = false;\n          this.ctrl.canCustomedSave = false\n          this.exceptionMsg(ex)\n        })\n    },\n    closeCustomed(inst,hash,options){\n      let msg = ''\n      this.state.customedLoading = true;\n      inst.methods.closeCustomedPrice(hash)\n        .send(options).then(resp=>{\n          this.state.customedLoading = false;\n          this.ctrl.canCustomedSave = false\n          this.ctrl.subUnitPrice = this.ruleState.subGas\n          msg = this.$t('g.UpdateSuccess')\n          this.$message(this.$basTip.warn(msg))\n        }).catch(ex=>{\n          this.state.customedLoading = false;\n          this.ctrl.canCustomedSave = false\n          this.exceptionMsg(ex)\n        })\n    },\n    exceptionMsg(ex){\n      console.log(ex)\n      let msg = ''\n      if(ex.code == 4001){\n        msg = this.$t('g.4001')\n        this.$message(this.$basTip.error(msg))\n      }\n      if(ex.code == -32601){\n        msg = this.$t('g.NetworkTimeout')\n        this.$message(this.$basTip.error(msg))\n      }\n    },\n    editSetting(){\n      this.state.dnsEditDisabled = false;\n    },\n    changeDnsEdit(flag){\n      this.state.dnsEditDisabled = flag\n      if(flag){//可编辑\n        this.dns = Object.assign({},this.oridns)\n      }else{\n        this.oridns = Object.assign({},this.dns)\n      }\n      console.log(flag,'>',this.state.dnsEditDisabled)\n    },\n    clearDnsAttr(){\n      this.dns.ipv4 = ''\n      this.dns.ipv6 = ''\n      this.dns.wallet = ''\n      this.dns.alias = ''\n      this.dns.extrainfo = ''\n    },\n    saveAll(){\n      let msg = ''\n      if(this.state.dnsLoading){\n        msg = '正在保存,请稍候.'\n        this.$message(this.$basTip.error(msg))\n        return false;\n      }\n      if(!this.checkAuthor()){\n        return;\n      }\n      let aliasLen = this.ruleState.aliasLen ||256;\n      let extraMaxLen = this.ruleState.extensionLen || 512;\n      let hash = this.asset.domainhash;\n      let ipv4 = this.dns.ipv4 ||'0.0.0.0'\n      let ipv6 = this.dns.ipv6 ||'::'\n      let address = this.dns.wallet||'';\n      let alias = this.dns.alias ||'';\n      let extrainfo = this.dns.extrainfo||'';\n      if(!validIPv4(ipv4)){\n        this.$message(this.$basTip.error(`${ipv4} illegal`))\n        return\n      }\n      if(!validIPv6(ipv6)){\n        this.$message(this.$basTip.error(`${ipv6} illegal`))\n        return\n      }\n      if(address && !Web3.utils.isAddress(address)){\n        msg = `您输入的地址${address}不正确,请输入区块链地址.`\n        this.$message(this.$basTip.error(msg))\n        return;\n      }\n      if(Web3.utils.stringToHex(alias).length > aliasLen){\n        msg = `您输入的别名${alias}太长,超过了${aliasLen}字符.`\n        this.$message(this.$basTip.error(msg))\n        return;\n      }\n\n      const web3State = getWeb3State();\n\n      let inst = oannInstance(web3State.chainId,web3State.wallet)\n      let options = {from:web3State.wallet}\n\n      let namehash = this.asset.domainhash;\n      if(!namehash){\n        console.error(`${this.domainText} namehash is null`)\n        return\n      }\n\n      this.state.dnsEditDisabled = true;\n      this.state.dnsLoading = true;\n\n      let extraBytes = extrainfo == '0x'? '' : Web3.utils.stringToHex(extrainfo+'')\n      console.log(namehash,IPv4ToHex(ipv4),\n      IPv6ToHex(ipv6),address,extraBytes,alias)\n      inst.methods.setRecord(\n        namehash,\n        IPv4ToHex(ipv4),\n        IPv6ToHex(ipv6),\n        address||\"0x\",\n        extraBytes,\n        alias||''\n      ).send(options).then(resp=>{\n        this.state.dnsLoading = false\n        msg = this.$t('g.UpdateSuccess')\n        this.$message(this.$basTip.warn(msg))\n      }).catch(ex=>{\n        this.state.dnsLoading = false\n        this.exceptionMsg(ex)\n      })\n    },\n\n  },\n  mounted() {\n    let domain = this.$route.params.domain\n    this.params.domain = domain\n    let expire = this.$route.params.expire\n\n    let dappState = this.$store.getters['web3/dappState']\n    this.dappState = Object.assign(this.dappState,dappState)\n    let ruleState = this.$store.getters['web3/ruleState']\n\n    let pOpenApplied = this.$route.params.openApplied\n    let pIsCustomed = this.$route.params.isCustomed\n    let pPrice = this.$route.params.price\n\n    this.ruleState = Object.assign(this.ruleState,ruleState)\n    const web3State = getWeb3State();\n    let wallet = web3State.wallet;\n    let chainId = web3State.chainId;\n\n    let handleText = handleDomain(domain)\n    let proxy = new DomainProxy()\n    proxy.getDomainInfo(handleText).then(resp=>{\n      //console.log(resp)\n      if(resp.state  ){\n        let data = proxy.transData(resp)\n        this.asset = Object.assign(this.asset,data.asset)\n        let decimals = ruleState.decimals||18\n        if(this.asset.isCustomed){\n          this.ctrl.subUnitPrice = this.asset.customPrice/(10 ** decimals)\n        }else{\n          this.ctrl.subUnitPrice = ruleState.subGas\n        }\n        this.dns = Object.assign(this.dns,data.dns)\n        return data.asset.domainhash;\n      }else{\n        let domainCode = handleDomain(handleDomain(domain))\n        let domainhash = Web3.utils.keccak256(domainCode)\n        this.asset.domainhash = domainhash\n        this.asset.expire = expire ||0\n        this.asset.owner = wallet||''\n        if(!DomainValidator.isSub(domain)){\n          this.asset.openApplied = Boolean(pOpenApplied)\n\n          this.asset.isCustomed = pIsCustomed\n          if(pOpenApplied && pIsCustomed){\n            this.ctrl.subUnitPrice = pPrice\n          }\n        }\n        console.error(`unfound ${domain} from the API Server.`)\n        return domainhash\n      }\n    }).then(hash =>{\n      if(hash){\n        console.log(hash,chainId,wallet)\n        getDnsInfoByHash(hash,chainId,wallet).then(ret=>{\n          console.log('Sol DNS:',ret)\n          this.dns = Object.assign(this.dns,ret)\n          this.oridns = Object.assign({},ret)\n        }).catch(ex=>{\n          console.error('Query DNS sol methods:',ex)\n        })\n      }\n    }).catch(ex=>{\n      console.log(ex)\n    })\n  },\n}\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/Domain/DnsUpdate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container bg-white\"},[_c('div',{staticClass:\"row justify-content-center align-items-center\"},[_c('el-card',{staticClass:\"col-md-8 col-sm-10 box-card bas-gray-bg\",attrs:{\"body-style\":\"backgroup:rgba(245,246,246,1);\",\"shadow\":\"never\"}},[_c('div',{staticClass:\"bas-inline-flex\"},[_c('div',{staticClass:\"bas-info-label bas-label-100\",staticStyle:{\"font-size\":\"1.25rem\",\"color\":\"#04062E\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.Domain'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"bas-info-text \"},[_c('span',{staticStyle:{\"font-size\":\"1.45rem\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.domainText)+\"\\n          \")]),_vm._v(\" \"),_c('span',{staticClass:\"domain-type-boxer\"},[_vm._v(\"\\n            \"+_vm._s(_vm.domainType)+\"\\n          \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"bas-inline-flex pt-3\"},[_c('div',{staticClass:\"bas-info-label bas-label-100\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.Owner'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"bas-info-text\"},[_vm._v(\"\\n          \"+_vm._s(_vm.asset.owner)+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"bas-inline-flex\"},[_c('div',{staticClass:\"bas-info-label bas-label-100\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.ExpiredDate'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"bas-info-text\"},[_vm._v(\"\\n          \"+_vm._s(_vm.expireDate)+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"bas-inline-flex\"},[_c('div',{staticClass:\"bas-info-label bas-label-100\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.DomainHash'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"bas-info-text\"},[_vm._v(\"\\n          \"+_vm._s(_vm.asset.domainhash)+\"\\n        \")])])])],1),_vm._v(\" \"),(_vm.isTopDomain)?_c('div',{staticClass:\"row justify-content-center align-items-center\"},[_c('div',{staticClass:\"col-md-8 col-sm-10\"},[_c('div',{staticClass:\"pt-4 pb-2\"},[_c('h5',[_vm._v(_vm._s(_vm.$t('l.SubDomainConfiguration')))])])]),_vm._v(\" \"),_c('el-form',{staticClass:\"col-md-8 col-sm-10\",attrs:{\"label-width\":\"220px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.isOpenToPublicLabel}},[_c('el-radio-group',{on:{\"change\":_vm.OpenAppliedChanged},model:{value:(_vm.asset.openApplied),callback:function ($$v) {_vm.$set(_vm.asset, \"openApplied\", $$v)},expression:\"asset.openApplied\"}},[_c('el-radio',{attrs:{\"label\":false,\"disabled\":_vm.state.oaLoading},on:{\"change\":_vm.showOpenAppliedConfirm}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('l.N'))+\"\\n          \")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"disabled\":_vm.state.oaLoading,\"label\":true},on:{\"change\":_vm.showOpenAppliedConfirm}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('l.Y'))+\"\\n          \")])],1),_vm._v(\" \"),(_vm.state.oaLoading)?_c('loading-dot',{staticStyle:{\"float\":\"right\"}}):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',[_c('label',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(_vm._s(_vm.$t('l.SubDomainPrice')))]),_vm._v(\" \"),_c('el-input-number',{staticClass:\"w-25\",attrs:{\"name\":\"subUnitPrice\",\"precision\":2,\"step\":1.0,\"disabled\":!_vm.editCustomPriceEnable,\"controls-position\":\"right\",\"min\":_vm.ruleState.subGas},on:{\"change\":_vm.customedPriceChanged},model:{value:(_vm.ctrl.subUnitPrice),callback:function ($$v) {_vm.$set(_vm.ctrl, \"subUnitPrice\", $$v)},expression:\"ctrl.subUnitPrice\"}}),_vm._v(\" \"),_c('el-checkbox',{staticClass:\"bas-domain--setprice-tip\",attrs:{\"disabled\":_vm.isCustomedCheckDisabled},on:{\"change\":_vm.customedCheckedChange},model:{value:(_vm.asset.isCustomed),callback:function ($$v) {_vm.$set(_vm.asset, \"isCustomed\", $$v)},expression:\"asset.isCustomed\"}},[_vm._v(\"\\n          Notice: \"+_vm._s(_vm.getNotice)+\"\\n        \")]),_vm._v(\" \"),(_vm.state.customedLoading)?_c('loading-dot',{staticStyle:{\"float\":\"right\"}}):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',{staticClass:\"bas-btn-primary w-25\",attrs:{\"disabled\":_vm.state.customedLoading,\"type\":\"primary\"},on:{\"click\":_vm.setCustomed}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('g.Confirm'))+\"\\n        \")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.ctrl.openAppliedDialogVisible,\"title\":_vm.tip.oaConfirmTitle,\"before-close\":_vm.cancelOpenApplied,\"width\":\"30%\"}},[_c('h5',{staticClass:\"text-center\"},[_vm._v(\"\\n        \"+_vm._s(_vm.oaConfirmMessage)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.cancelOpenApplied}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('g.Cancel'))+\"\\n        \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"bas-btn-primary\",attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.confirmOpenApplied}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('g.Confirm'))+\"\\n        \")])],1)])],1):_vm._e(),_vm._v(\" \"),(_vm.isTopDomain)?_c('div',{staticClass:\"row justify-content-center align-content-center\"},[_c('div',{staticClass:\"bas-split-h\",staticStyle:{\"width\":\"90%\",\"border-top\":\"1px solid rgba(150,150,166,1)\"}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"row justify-content-center align-items-center\"},[_c('div',{staticClass:\"col-md-8 col-sm-10\"},[_c('div',{staticClass:\"bas-refs-header pt-3 pb-2\"},[_c('div',[_c('h5',[_vm._v(_vm._s(_vm.$t('l.DnsMappingData')))])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row justify-content-center align-items-center\"},[_c('el-form',{staticClass:\"col-md-8 col-sm-10\",attrs:{\"label-width\":\"140px\"}},[_c('el-form-item',[_c('div',{staticClass:\"bas-w-68 dns-demo-wrapper\"},[_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('l.DemoIPPrefix'))+\" 104.238.165.23\\n          \")])])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"IPV4\"}},[_c('el-input',{staticClass:\"bas-w-68\",attrs:{\"placeholder\":_vm.dnsPlaceHolder,\"disabled\":_vm.dnsDisabled},on:{\"input\":_vm.trimIPv4Text},model:{value:(_vm.dns.ipv4),callback:function ($$v) {_vm.$set(_vm.dns, \"ipv4\", $$v)},expression:\"dns.ipv4\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"IPV6\"}},[_c('el-input',{staticClass:\"bas-w-68\",attrs:{\"placeholder\":_vm.dnsPlaceHolder,\"disabled\":_vm.dnsDisabled},on:{\"input\":_vm.trimIPv6Text},model:{value:(_vm.dns.ipv6),callback:function ($$v) {_vm.$set(_vm.dns, \"ipv6\", $$v)},expression:\"dns.ipv6\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('label',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.BlockChainAddress'))+\"\\n        \")]),_vm._v(\" \"),_c('el-input',{staticClass:\"bas-w-68\",attrs:{\"placeholder\":_vm.dnsPlaceHolder,\"disabled\":_vm.dnsDisabled},on:{\"input\":_vm.trimWalletText},model:{value:(_vm.dns.wallet),callback:function ($$v) {_vm.$set(_vm.dns, \"wallet\", $$v)},expression:\"dns.wallet\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('label',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.Alias'))+\"\\n        \")]),_vm._v(\" \"),_c('el-input',{staticClass:\"bas-w-68\",attrs:{\"placeholder\":_vm.dnsPlaceHolder,\"disabled\":_vm.dnsDisabled},on:{\"input\":_vm.trimAliasText},model:{value:(_vm.dns.alias),callback:function ($$v) {_vm.$set(_vm.dns, \"alias\", $$v)},expression:\"dns.alias\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('label',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.ExtraInfo'))+\"\\n        \")]),_vm._v(\" \"),_c('el-input',{staticClass:\"bas-w-68\",attrs:{\"disabled\":_vm.dnsDisabled,\"placeholder\":_vm.dnsPlaceHolder,\"type\":\"textarea\",\"autosize\":\"\"},model:{value:(_vm.dns.extrainfo),callback:function ($$v) {_vm.$set(_vm.dns, \"extrainfo\", $$v)},expression:\"dns.extrainfo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[(_vm.state.dnsLoading)?_c('loading-dot',{staticStyle:{\"float\":\"left\"}}):_vm._e()],1),_vm._v(\" \"),(_vm.state.dnsEditDisabled)?_c('el-button',{staticClass:\"bas-w-68 bas-btn-primary\",attrs:{\"disabled\":_vm.state.dnsLoading,\"type\":\"primary\"},on:{\"click\":function($event){return _vm.changeDnsEdit(false)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.UpdateInfoBtn'))+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(!_vm.state.dnsEditDisabled)?_c('el-button',{staticClass:\"bas-w-40 bas-btn-primary\",attrs:{\"disabled\":_vm.state.dnsLoading,\"type\":\"primary\"},on:{\"click\":_vm.saveAll}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('g.Confirm'))+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(!_vm.state.dnsEditDisabled)?_c('el-button',{staticClass:\"w-25\",attrs:{\"disabled\":_vm.state.dnsLoading,\"type\":\"plain\"},on:{\"click\":function($event){return _vm.changeDnsEdit(true)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('g.Cancel'))+\"\\n        \")]):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-button',{staticClass:\"bas-w-68 bas-btn-pink\",attrs:{\"type\":\"Warning\",\"disabled\":_vm.state.dnsLoading},on:{\"click\":_vm.deleteAll}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.ClearAllConfiguration'))+\"\\n        \")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-44ba52f8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Domain/DnsUpdate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44ba52f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DnsUpdate.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DnsUpdate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DnsUpdate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44ba52f8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DnsUpdate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Domain/DnsUpdate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}