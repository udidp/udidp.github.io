webpackJsonp([50],{"0UIc":function(t,e){},DhvL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("woOf"),i=s.n(a),r=s("Xxa5"),n=s.n(r),o=s("exGp"),c=s.n(o),l=s("Dd8w"),u=s.n(l),p=s("0xDb"),d=s("A77I"),m=s("JX3P"),b=s("1plq"),h=s("U/4D"),v=s("Xyu6"),x=s("sGRa"),_={name:"TopCybersquatting",computed:u()({domainType:function(){var t=this.asset.domaintext||"";if(""===t)return"";var e=Object(d.i)(t);return this.$t("g."+e)},unitPrice:function(){var t=this.$store.getters["dapp/ruleState"];return this.asset.isRare?t.rareBas:t.rootBas},getTotal:function(){var t=this.$store.getters["dapp/ruleState"],e=this.asset.isRare?t.rareBas:t.rootBas,s=this.years*e,a=t.externalBas;return this.asset.openApplied?s+parseFloat(a):s},getTopExpireDate:function(){return this.topData.expire?Object(p.h)(this.topData.expire):""}},Vuex.mapGetters({ruleState:"dapp/ruleState"}),Vuex.mapState({maxYears:function(t){return t.dapp.maxRegYears}})),data:function(){return{domain:"",years:1,subUnitPrice:4,asset:{domaintext:"",hash:"",openApplied:"",isCustomed:!1,isRoot:!0,isRare:!1,expire:0},commitData:{domaintext:"",hash:""},ctrl:{error:"",loading:!1},ctrlState:{minBas:4,maxPriceBas:1e10}}},methods:{closeSubApply:function(){},openSubApply:function(){},openAppliedChange:function(){this.asset.openApplied&&this.asset.isCustomed?this.subUnitPrice=parseFloat(Object(p.C)(this.asset.customPrice)):this.subUnitPrice=parseFloat(this.ctrlState.subBas)},customedChangeHandle:function(){this.asset.isCustomed?this.asset.customPrice&&(this.subUnitPrice=parseFloat(Object(p.C)(this.asset.customPrice))):this.subUnitPrice=parseFloat(this.ctrlState.subBas)},registing:function(){var t=this;return c()(n.a.mark(function e(){var s,a,i,r,o;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$store.getters.metaMaskDisabled){e.next=3;break}return t.$metamask(),e.abrupt("return");case 3:return s=t.$store.getters.web3State,e.prev=4,a={hash:t.asset.hash,years:t.years,openApplied:t.asset.openApplied,isCustomed:t.asset.isCustomed,customPriceBas:t.subUnitPrice,chainId:s.chainId,wallet:s.wallet},e.next=9,Object(x.a)(a);case 9:i=e.sent,t.$router.push({name:"domain.cybersquattingres",params:{commitData:i},query:{domaintext:t.asset.domaintext}}),e.next=31;break;case 14:e.prev=14,e.t0=e.catch(4),r="",t.domaintext,e.t1=e.t0,e.next=e.t1===m.k?21:e.t1===m.l?21:e.t1===m.F?21:e.t1===m.g?24:e.t1===m.f?27:e.t1===m.z?27:29;break;case 21:return r=t.$t("code."+e.t0),t.$message(t.$basTip.error(r)),e.abrupt("return");case 24:return r=t.$t("code."+e.t0,{begin:4,end:b.b}),t.$message(t.$basTip.error(r)),e.abrupt("return");case 27:return e.abrupt("return");case 29:return e.abrupt("break",30);case 30:e.t0.code===m.G?(o=that.$t("code."+e.t0.code),that.$message(that.$basTip.error(o))):e.t0.message.includes(m.y)&&that.$message(that.$basTip.error(e.t0.message));case 31:case"end":return e.stop()}},e,t,[[4,14]])}))()}},mounted:function(){var t=this,e=this.$store.getters["dapp/ruleState"];this.ctrlState=i()(this.ctrlState,e);var s=this.$route.query.domaintext,a=this.$route.query.hash;this.asset.domaintext=s,this.asset.hash=a;var r=this.$store.getters.web3State;a&&Object(h.a)(r.chainId)&&Object(v.c)(a,r.chainId).then(function(e){e.assetinfo&&(t.asset=i()(t.asset,e.assetinfo),e.assetinfo.isCustomed&&(t.subUnitPrice=parseFloat(Object(p.C)(e.assetinfo.customPrice))))}).catch(function(t){})}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-7 bas-card"},[s("div",{staticClass:"bas-card__header"},[s("div",{staticClass:"bas-card__header-title"},[t._v("\n          "+t._s(t.$t("l.CybersquattingDomain"))+"\n        ")])]),t._v(" "),s("div",{staticClass:"bas-gray-split"}),t._v(" "),s("div",{staticClass:"bas-card__body bas-border-none"},[s("el-form",{staticClass:"col-10",attrs:{"label-width":"160px"}},[s("el-form-item",{attrs:{label:t.$t("l.Domain")}},[s("el-input",{staticClass:"bas-regist--domain-input",attrs:{disabled:!0,placeholder:"please enter domain..."},model:{value:t.asset.domaintext,callback:function(e){t.$set(t.asset,"domaintext",e)},expression:"asset.domaintext"}},[s("template",{slot:"append"},[t._v(t._s(t.domainType))])],2)],1),t._v(" "),s("el-form-item",{attrs:{label:t.$t("l.PriceBas")}},[s("span",[t._v(" "+t._s(t.unitPrice)+" ")]),t._v(" "),s("span",[t._v(" BAS/year ")])]),t._v(" "),s("el-form-item",{attrs:{label:t.$t("l.HasOpenAppliedSubRegistLabel")}},[s("el-radio-group",{on:{change:t.openAppliedChange},model:{value:t.asset.openApplied,callback:function(e){t.$set(t.asset,"openApplied",e)},expression:"asset.openApplied"}},[s("el-radio",{attrs:{label:!1},on:{change:t.closeSubApply}},[t._v("\n                "+t._s(t.$t("l.N"))+"\n              ")]),t._v(" "),s("el-radio",{attrs:{label:!0},on:{change:t.openSubApply}},[t._v("\n                "+t._s(t.$t("l.Y"))+"\n              ")])],1)],1),t._v(" "),Boolean(t.asset.openApplied)?s("el-form-item",{staticClass:"regist-custom--wrapper",attrs:{label:t.$t("l.SubDomainPrice")}},[s("div",{staticClass:"inner-flexbox"},[s("el-input-number",{attrs:{name:"subUnitPrice",precision:2,step:1,"controls-position":"",disabled:!this.asset.isCustomed,max:parseFloat(t.ctrlState.maxPriceBas||1e10),min:parseFloat(t.ctrlState.minSubBas||4)},model:{value:t.subUnitPrice,callback:function(e){t.subUnitPrice=e},expression:"subUnitPrice"}}),t._v(" "),s("el-checkbox",{staticClass:"bas-external--tip",on:{change:t.customedChangeHandle},model:{value:t.asset.isCustomed,callback:function(e){t.$set(t.asset,"isCustomed",e)},expression:"asset.isCustomed"}},[s("p",{staticClass:"tips"},[t._v("\n                  Notice: "+t._s(t.$t("p.DomainRegistExternalBasTip"))+t._s(t.ruleState.mailSeviceBas)+"BAS\n                ")])])],1)]):t._e(),t._v(" "),s("el-form-item",{attrs:{label:t.$t("l.PurchaseYears")}},[s("el-input-number",{attrs:{name:"years","controls-position":"",min:1,max:t.ctrlState.maxRegYears},model:{value:t.years,callback:function(e){t.years=e},expression:"years"}}),t._v(" "),s("span",[t._v("Year")])],1)],1),t._v(" "),s("div",{staticClass:"col-12 text-center"},[s("span",{staticClass:"bas-text-green"},[t._v(t._s(t.$t("l.Total"))+":")]),t._v(" "),s("h2",{staticClass:"d-inline bas-text-green"},[t._v(t._s(t.getTotal))]),t._v(" "),s("span",{staticClass:"bas-text-green"},[t._v("BAS")])])],1),t._v(" "),s("div",{staticClass:"bas-card__footer"},[s("button",{staticClass:"btn w-25 bas-btn-primary",on:{click:t.registing}},[t._v("\n          "+t._s(t.$t("l.RegistBtn"))+"\n        ")])])])])])},staticRenderFns:[]};var g=s("VU/8")(_,f,!1,function(t){s("0UIc")},null,null);e.default=g.exports}});
//# sourceMappingURL=50.b5bdf11e76307ee3b634.js.map