{"version":3,"sources":["webpack:///src/views/Wallet/MailServers.vue","webpack:///./src/views/Wallet/MailServers.vue?4fde","webpack:///./src/views/Wallet/MailServers.vue"],"names":["MailServers","name","components","LoadingDot","ElTabLoading","computed","extends_default","Vuex","mapState","items","state","ewallet","assets","filter","it","mailActived","syncState","assetsLoading","chainId","dapp","curWallet","this","$store","wallet","data","loading","maskDialog","visible","hash","title","contents","methods","domainMailFormat","row","column","cellVal","expireFormat","Object","utils","mailPublicFormat","$t","showMaskDialog","assign_default","hideMaskDialog","gotoDetail","goMailConf","index","domaintext","getters","$metamask","$router","push","path","params","cancelMailPublic","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","toggleMailServicPublic","stop","enableMailPublic","_this2","_callee2","_context2","isPublic","_this3","_callee3","web3State","assetpart","msg","_context3","mail_manager_api","sent","dispatch","t0","t1","api_errors","$message","$basTip","error","asset","code","closeMailService","_this4","_callee4","_context4","reloadRecords","networks","beforeMount","mounted","watch","val","old","Wallet_MailServers","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticStyle","width","attrs","type","on","cell-click","header-align","align","prop","formatter","label","_v","sortable","sort-orders","class-name","scopedSlots","_u","key","fn","scope","size","_s","staticClass","slot","command","disabled","hasExpired","nativeOn","click","$event","$index","_e","rechargeYears","mailPublic","isRare","isorder","length","margin","gutter","height","close-on-click-modal","show-close","update:visible","$set","margin-left","float","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/46.0270ea59aa757bb37f4b.js","sourcesContent":["<template>\n  <div>\n    <el-table type=\"index\"\n      v-loading=\"loading\"\n      :data=\"items\" @cell-click=\"gotoDetail\"\n      style=\"width: 100%\">\n      <el-table-column\n        header-align=\"center\"\n        align=\"center\"\n        prop=\"domaintext\"\n        index=\"domain\"\n        :formatter=\"domainMailFormat\"\n        :label=\"$t('l.EWalletDomainMailServers')\"\n\n        >\n      </el-table-column>\n      <el-table-column\n        prop=\"expire\"\n        header-align=\"center\"\n        align=\"center\"\n        sortable\n        sort-orders=\"descending\"\n        :label=\"$t('l.ExpiredDate')\"\n        :formatter=\"expireFormat\"\n        >\n      </el-table-column>\n      <el-table-column\n        prop=\"mailPublic\"\n        header-align=\"center\"\n        align=\"center\"\n        sortable\n        :label=\"$t('l.MailIsOpenPublic')\"\n        :formatter=\"mailPublicFormat\"\n        >\n      </el-table-column>\n      <el-table-column header-align=\"center\"\n        index=\"operate\"\n        class-name=\"el-tbc-operator\"\n        align=\"center\" :label=\"$t('l.Operating')\">\n        <template slot-scope=\"scope\">\n          <el-dropdown>\n            <el-button size=\"mini\" type=\"default\">\n              {{$t('l.MoreOperation')}} <i class=\"el-icon-arrow-down el-icon--right\"></i>\n            </el-button>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item\n                :command=\"scope.row\"\n                :disabled=\"scope.row.hasExpired\"\n                @click.native=\"goMailConf(scope.$index,scope.row)\">\n                {{$t('l.UpdateConfiguration')}}\n              </el-dropdown-item>\n              <el-dropdown-item\n                v-if=\"scope.row.mailPublic\"\n                @click.native=\"cancelMailPublic(scope.$index,scope.row)\"\n                >\n                {{$t('l.CancelMailToPublic') }}\n              </el-dropdown-item>\n              <el-dropdown-item\n                :disabled=\"scope.row.rechargeYears <= 0\"\n                @click.native=\"closeMailService(scope.$index,scope.row)\"\n                >\n                {{$t('l.DisableMailService')}}\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n\n          <el-button\n            v-if=\"(!scope.row.mailPublic && scope.row.isRare && !scope.row.isorder)\"\n            size=\"mini\"\n            :type=\"scope.row.isorder ? 'default':'primary'\"\n            @click=\"enableMailPublic(scope.$index, scope.row)\">\n            {{$t('l.OpenMailToPublic')}}\n          </el-button>\n        </template>\n      </el-table-column>\n      <el-tab-loading :loading=\"syncState\" slot=\"empty\" v-if=\"syncState\"/>\n      <el-tab-loading :loading=\"syncState\" slot=\"append\" v-if=\"syncState && items.length > 0 \"/>\n    </el-table>\n    <el-row :gutter=\"20\" class=\"bg-white\" style=\"margin:0px;\">\n      <div class=\"bg-white\" style=\"height:25px;\"></div>\n      <div class=\"float-table-total\">\n        <span >\n          {{$t('l.TableTotal')}} {{items ? items.length : 0}} {{$t('l.TableRecord')}}\n        </span>\n        <span @click=\"reloadRecords\">\n          <i class=\"fa fa-refresh\"></i>\n        </span>\n      </div>\n    </el-row>\n     <!-- mask dialog begin -->\n    <el-dialog  width=\"25%\"\n      :close-on-click-modal=\"false\"\n      :show-close=\"!maskDialog.loading\"\n      :visible.sync=\"maskDialog.visible\">\n      <div slot=\"title\" >\n        <!-- <loading-dot v-if=\"maskDialog.loading\" style=\"float:left;\"/> -->\n        <span style=\"margin-left:10px;\">\n          {{maskDialog.title}}\n        </span>\n      </div>\n      <div class=\"container\">\n        <div class=\"row justify-content-center\">\n          <div class=\"col-10 text-center\">\n            <h5>\n              {{$t('l.TransactionTip')}}\n            </h5>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"dialog-footer bas-dialog-between\" slot=\"footer\">\n        <div></div>\n        <div class=\"left-tips pr-3\">\n          <span class=\"bas-dialog-footer--tips\">\n            <loading-dot v-if=\"maskDialog.loading\" style=\"float:right;\"/>\n          </span>\n        </div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  dateFormat,\n} from '@/utils'\n\n\nimport {\n  PARAM_ILLEGAL,\n  UNSUPPORT_NETWORK,\n  DOMAIN_NOT_EXIST,\n  ACCOUNT_NOT_MATCHED,\n  MAILSERVICE_ONLY_RARE_OPEN,\n  MAILSERVICE_INACTIVED,\n  USER_REJECTED_REQUEST\n} from '@/web3-lib/api-errors.js'\nimport {\n  removeDomainService,toggleMailServicPublic\n} from '@/web3-lib/apis/mail-manager-api'\n\nimport { checkSupport } from '@/web3-lib/networks'\n\nimport LoadingDot from '@/components/LoadingDot.vue'\nimport ElTabLoading from '@/views/widget/ElTabLoading.vue'\n\nexport default {\n  name:\"MailServers\",\n  components:{\n    LoadingDot,\n    ElTabLoading,\n  },\n  computed: {\n    ...Vuex.mapState({\n      items:state => state.ewallet.assets.filter( it=> it.mailActived),\n      syncState: state => state.ewallet.assetsLoading,\n      chainId: state => state.dapp.chainId\n    }),\n    curWallet() {\n      return this.$store.state.dapp.wallet\n    },\n  },\n  data() {\n    return {\n      loading:false,\n      maskDialog:{\n        visible:false,\n        loading:false,\n        hash:null,\n        title:'',\n        contents:''\n      }\n    }\n  },\n  methods: {\n    domainMailFormat(row,column,cellVal){\n      return `@${cellVal}`\n    },\n    expireFormat(row,column,cellVal){\n      return dateFormat(cellVal)\n    },\n    mailPublicFormat(row,column,cellVal){\n      return cellVal ? this.$t('g.Y') : this.$t('g.N')\n    },\n    showMaskDialog(hash,loading,title){\n      this.maskDialog = Object.assign({},this.maskDialog,{\n        visible:true,\n        loading:loading,\n        hash:hash,\n        title:title,\n        contents:''\n      })\n    },\n    hideMaskDialog(){\n      this.maskDialog = Object.assign({},this.maskDialog,{\n        visible:false,\n        loading:false,\n        hash:'',\n        title:'',\n        contents:''\n      })\n    },\n    gotoDetail(){\n\n    },\n    goMailConf(index,row){\n      const domaintext = row.domaintext\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return\n      }\n\n      this.$router.push({\n        path:`/mail/mailsvr/${domaintext}`,\n        name:'mail.mailsvr',\n        params:{\n          domaintext:domaintext,\n          hash:row.hash\n        }\n      })\n    },\n    async cancelMailPublic(index,row){\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return\n      }\n      console.log(row)\n      if(!row.hash){\n        console.error('no hash')\n        return\n      }\n\n      await this.toggleMailServicPublic(row,false)\n\n    },\n    async enableMailPublic(index,row){\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return\n      }\n      //console.log(row)\n      if(!row.hash){\n        console.error('no hash')\n        return\n      }\n\n      await this.toggleMailServicPublic(row,true)\n    },\n    async toggleMailServicPublic(row,isPublic){\n      const web3State = this.$store.getters['web3State']\n      const chainId = web3State.chainId\n      const wallet = web3State.wallet\n      const domaintext = row.domaintext\n      const hash = row.hash\n\n      try{\n        const title =this.$t(\n          !isPublic ? 'p.ColseMailServiceToPublic': 'p.OpenMailServiceToPublic',\n          {domaintext:domaintext}\n        );\n        this.showMaskDialog(hash,true,title)\n        //console.log(hash,isPublic,title,chainId,wallet)\n        const assetpart = await toggleMailServicPublic(hash,isPublic,chainId,wallet)\n        //console.log(assetpart)\n        //this.$store.dispatch('ewallet/updateAssetProps',assetpart)\n        this.$store.dispatch('ewallet/updateEWalletAssetsIndexedDB',assetpart)\n        this.hideMaskDialog()\n      }catch(ex){\n        let msg = ''\n        switch (ex) {\n          case PARAM_ILLEGAL:\n            console.error(ex)\n            return;\n          case UNSUPPORT_NETWORK:\n            msg = this.$t(`code.${ex}`)\n            this.$message(this.$basTip.error(msg))\n            break;\n          case DOMAIN_NOT_EXIST:\n          case MAILSERVICE_INACTIVED:\n            msg = this.$t(`code.${ex}`,{domaintext:domaintext})\n            this.$message(this.$basTip.error(msg))\n            break;\n          case ACCOUNT_NOT_MATCHED:\n            msg = this.$t(`code.${ex}`,{wallet,asset:domaintext})\n            this.$message(this.$basTip.error(msg))\n            break;\n          default:\n            break;\n        }\n\n        if(ex.code === USER_REJECTED_REQUEST){\n          msg = this.$t(`code.${ex.code}`)\n          this.$message(this.$basTip.error(msg))\n        }\n\n        console.log(ex)\n        this.hideMaskDialog()\n      }\n    },\n    async closeMailService(index,row){\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return\n      }\n\n      const web3State = this.$store.getters['web3State']\n      const chainId = web3State.chainId\n      const wallet = web3State.wallet\n      const domaintext = row.domaintext\n      const hash = row.hash\n      if(!hash){\n        console.error('no hash')\n        return\n      }\n\n      try{\n        const title =this.$t('p.DisableMailService',{domaintext:domaintext})\n        this.showMaskDialog(hash,true,title)\n\n        const assetpart = await removeDomainService(hash,chainId,wallet)\n        console.log('assetpart',assetpart)\n        this.$store.dispatch('ewallet/updateEWalletAssetsIndexedDB',assetpart)\n        this.hideMaskDialog()\n      }catch(ex){\n        console.log(ex)\n        this.hideMaskDialog()\n        let msg = ''\n        switch(ex){\n          case UNSUPPORT_NETWORK:\n            msg = this.$t(`code.${ex}`)\n            this.$message(this.$basTip.error(msg))\n            break;\n          case DOMAIN_NOT_EXIST:\n            msg = this.$t(`code.${ex}`,{domaintext:domaintext})\n            this.$message(this.$basTip.error(msg))\n            break;\n          case ACCOUNT_NOT_MATCHED:\n            msg = this.$t(`code.${ex}`,{wallet,asset:domaintext})\n            this.$message(this.$basTip.error(msg))\n            break;\n          default:\n            break;\n        }\n\n        if(ex.code === USER_REJECTED_REQUEST){\n          msg = this.$t(`code.${ex.code}`)\n          this.$message(this.$basTip.error(msg))\n        }\n      }\n    },\n    reloadRecords(){\n      const web3State = this.$store.getters['web3State']\n      if(web3State.chainId &&\n        checkSupport(web3State.chainId) && web3State.wallet){\n        this.$store.dispatch('ewallet/syncEWalletAssets',web3State)\n      }\n    }\n  },\n  beforeMount() {\n    const web3State = this.$store.getters['web3State']\n    if(web3State.chainId &&\n      checkSupport(web3State.chainId) && web3State.wallet){\n      this.$store.dispatch('ewallet/syncEWalletAssets',web3State)\n    }\n  },\n  mounted() {\n\n  },\n  watch:{\n    curWallet(val,old) {\n      console.info(\"Account Changed,Reload BMail Domains\")\n      if(checkSupport(this.chainId)){\n        this.$store.dispatch(\"ewallet/syncEWalletAssets\",{chainId:this.chainId,wallet:val})\n      }\n    },\n    chainId(val,old){\n      const wallet = this.$store.state.dapp.wallet\n      console.info(\"ChainId Changed,Reload BMail Domains\")\n      if(checkSupport(val) && wallet){\n        this.$store.dispatch(\"ewallet/syncEWalletAssets\",{chainId:val,wallet})\n      }\n    }\n  }\n}\n</script>\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Wallet/MailServers.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"index\",\"data\":_vm.items},on:{\"cell-click\":_vm.gotoDetail}},[_c('el-table-column',{attrs:{\"header-align\":\"center\",\"align\":\"center\",\"prop\":\"domaintext\",\"index\":\"domain\",\"formatter\":_vm.domainMailFormat,\"label\":_vm.$t('l.EWalletDomainMailServers')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"expire\",\"header-align\":\"center\",\"align\":\"center\",\"sortable\":\"\",\"sort-orders\":\"descending\",\"label\":_vm.$t('l.ExpiredDate'),\"formatter\":_vm.expireFormat}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mailPublic\",\"header-align\":\"center\",\"align\":\"center\",\"sortable\":\"\",\"label\":_vm.$t('l.MailIsOpenPublic'),\"formatter\":_vm.mailPublicFormat}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"center\",\"index\":\"operate\",\"class-name\":\"el-tbc-operator\",\"align\":\"center\",\"label\":_vm.$t('l.Operating')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"default\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('l.MoreOperation'))+\" \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":scope.row,\"disabled\":scope.row.hasExpired},nativeOn:{\"click\":function($event){return _vm.goMailConf(scope.$index,scope.row)}}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('l.UpdateConfiguration'))+\"\\n            \")]),_vm._v(\" \"),(scope.row.mailPublic)?_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.cancelMailPublic(scope.$index,scope.row)}}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('l.CancelMailToPublic'))+\"\\n            \")]):_vm._e(),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"disabled\":scope.row.rechargeYears <= 0},nativeOn:{\"click\":function($event){return _vm.closeMailService(scope.$index,scope.row)}}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('l.DisableMailService'))+\"\\n            \")])],1)],1),_vm._v(\" \"),((!scope.row.mailPublic && scope.row.isRare && !scope.row.isorder))?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":scope.row.isorder ? 'default':'primary'},on:{\"click\":function($event){return _vm.enableMailPublic(scope.$index, scope.row)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.OpenMailToPublic'))+\"\\n        \")]):_vm._e()]}}])}),_vm._v(\" \"),(_vm.syncState)?_c('el-tab-loading',{attrs:{\"slot\":\"empty\",\"loading\":_vm.syncState},slot:\"empty\"}):_vm._e(),_vm._v(\" \"),(_vm.syncState && _vm.items.length > 0 )?_c('el-tab-loading',{attrs:{\"slot\":\"append\",\"loading\":_vm.syncState},slot:\"append\"}):_vm._e()],1),_vm._v(\" \"),_c('el-row',{staticClass:\"bg-white\",staticStyle:{\"margin\":\"0px\"},attrs:{\"gutter\":20}},[_c('div',{staticClass:\"bg-white\",staticStyle:{\"height\":\"25px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"float-table-total\"},[_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('l.TableTotal'))+\" \"+_vm._s(_vm.items ? _vm.items.length : 0)+\" \"+_vm._s(_vm.$t('l.TableRecord'))+\"\\n      \")]),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.reloadRecords}},[_c('i',{staticClass:\"fa fa-refresh\"})])])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"width\":\"25%\",\"close-on-click-modal\":false,\"show-close\":!_vm.maskDialog.loading,\"visible\":_vm.maskDialog.visible},on:{\"update:visible\":function($event){return _vm.$set(_vm.maskDialog, \"visible\", $event)}}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.maskDialog.title)+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-10 text-center\"},[_c('h5',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('l.TransactionTip'))+\"\\n          \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer bas-dialog-between\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('div'),_vm._v(\" \"),_c('div',{staticClass:\"left-tips pr-3\"},[_c('span',{staticClass:\"bas-dialog-footer--tips\"},[(_vm.maskDialog.loading)?_c('loading-dot',{staticStyle:{\"float\":\"right\"}}):_vm._e()],1)])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46ae86ad\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Wallet/MailServers.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46ae86ad\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MailServers.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MailServers.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MailServers.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46ae86ad\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MailServers.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Wallet/MailServers.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}