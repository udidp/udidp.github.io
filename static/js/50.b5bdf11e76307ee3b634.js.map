{"version":3,"sources":["webpack:///src/views/Domain/TopCybersquatting.vue","webpack:///./src/views/Domain/TopCybersquatting.vue?4e61","webpack:///./src/views/Domain/TopCybersquatting.vue"],"names":["TopCybersquatting","name","computed","extends_default","domainType","text","this","asset","domaintext","typ","Object","Validator","$t","unitPrice","ruleState","$store","getters","isRare","rareBas","rootBas","getTotal","unitBas","baseSum","years","externalBas","openApplied","parseFloat","getTopExpireDate","topData","expire","utils","Vuex","mapGetters","mapState","maxYears","state","dapp","maxRegYears","data","domain","subUnitPrice","hash","isCustomed","isRoot","commitData","ctrl","error","loading","ctrlState","minBas","maxPriceBas","methods","closeSubApply","openSubApply","openAppliedChange","customPrice","subBas","customedChangeHandle","registing","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","web3State","validArgs","msg","errMsg","wrap","_context","prev","next","$metamask","abrupt","customPriceBas","chainId","wallet","cybersquatting_api","sent","$router","push","params","query","t0","t1","api_errors","$message","$basTip","begin","end","web3_lib_utils","code","that","message","includes","stop","mounted","_this2","assign_default","$route","networks","view_api","then","resp","assetinfo","catch","ex","Domain_TopCybersquatting","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","label-width","label","disabled","placeholder","model","value","callback","$$v","$set","expression","slot","on","change","Boolean","precision","step","controls-position","max","min","minSubBas","mailSeviceBas","_e","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/50.b5bdf11e76307ee3b634.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-7 bas-card\">\n        <div class=\"bas-card__header\">\n          <div class=\"bas-card__header-title\">\n            {{$t('l.CybersquattingDomain')}}\n          </div>\n        </div>\n        <div class=\"bas-gray-split\" />\n        <div class=\"bas-card__body bas-border-none\">\n          <el-form class=\"col-10\" label-width=\"160px\">\n            <el-form-item :label=\"$t('l.Domain')\" >\n              <el-input v-model=\"asset.domaintext\" :disabled=\"true\"\n                class=\"bas-regist--domain-input\"\n                placeholder=\"please enter domain...\">\n                <template slot=\"append\">{{ domainType }}</template>\n              </el-input>\n            </el-form-item>\n\n\n            <el-form-item :label=\"$t('l.PriceBas')\" >\n              <span> {{unitPrice}} </span>\n              <span> BAS/year </span>\n            </el-form-item>\n            <el-form-item :label=\"$t('l.HasOpenAppliedSubRegistLabel')\">\n              <el-radio-group v-model=\"asset.openApplied\"\n                @change=\"openAppliedChange\">\n                <el-radio :label=\"false\" @change=\"closeSubApply\">\n                  {{$t('l.N')}}\n                </el-radio>\n                <el-radio  :label=\"true\"  @change=\"openSubApply\">\n                  {{$t('l.Y')}}\n                </el-radio>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item :label=\"$t('l.SubDomainPrice')\"\n              v-if=\"Boolean(asset.openApplied)\"\n              class=\"regist-custom--wrapper\">\n              <div class=\"inner-flexbox\">\n                <el-input-number v-model=\"subUnitPrice\" name=\"subUnitPrice\"\n                  :precision=\"2\" :step=\"1.0\"\n                  controls-position=\"\" :disabled=\"!this.asset.isCustomed\"\n                  :max=\"parseFloat(ctrlState.maxPriceBas||10000000000)\"\n                  :min=\"parseFloat(ctrlState.minSubBas||4)\" >\n                </el-input-number>\n                <el-checkbox v-model=\"asset.isCustomed\"\n                  @change=\"customedChangeHandle\"\n                  class=\"bas-external--tip\">\n                  <p class=\"tips\">\n                    Notice: {{$t('p.DomainRegistExternalBasTip')}}{{ ruleState.mailSeviceBas }}BAS\n                  </p>\n                </el-checkbox>\n              </div>\n            </el-form-item>\n            <el-form-item :label=\"$t('l.PurchaseYears')\">\n              <el-input-number v-model=\"years\" name=\"years\"\n                controls-position=\"\"\n                :min=\"1\" :max=\"ctrlState.maxRegYears\">\n              </el-input-number>\n              <span>Year</span>\n            </el-form-item>\n          </el-form>\n\n\n          <div class=\"col-12 text-center\">\n            <span class=\"bas-text-green\">{{$t('l.Total')}}:</span>\n            <h2 class=\"d-inline bas-text-green\">{{getTotal}}</h2>\n            <span class=\"bas-text-green\">BAS</span>\n          </div>\n        </div>\n        <div class=\"bas-card__footer\">\n          <button class=\"btn w-25 bas-btn-primary\" @click=\"registing\">\n            {{$t('l.RegistBtn')}}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style>\n.regist-custom--wrapper div.inner-flexbox {\n  display: inline;\n}\n.bas-external--tip {\n  width: calc(100% - 190px);\n  color: rgba(255,87,47,1);\n  background: rgba(255,87,47,0.1);\n  border-radius: 2px;\n  padding-left: 1px;\n}\n.bas-external--tip span.el-checkbox__label {\n  width: calc(100% - 20px);\n  height: inherit;\n}\n.bas-external--tip span.el-checkbox__label>p.tips{\n  width: 100%;\n  word-break:break-word;\n  white-space: normal;\n  margin: 2px auto;\n}\n</style>\n<script>\n\n\nimport {wei2Bas,dateFormat,hasExpired} from '@/utils'\nimport {\n  getDomainType\n} from '@/utils/Validator'\n\nimport {\n  PARAM_ILLEGAL, LACK_OF_ETH, LACK_OF_TOKEN,\n  DOMAIN_PRICE_RANGE, DOMAIN_NOT_EXPIRED,\n  UNSUPPORT_NETWORK,USER_REJECTED_REQUEST,\n  NetworkRequestFail\n} from '@/web3-lib/api-errors.js'\n\nimport { MaxPriceBas } from '@/web3-lib/utils'\nimport { checkSupport } from '@/web3-lib/networks'\nimport { getDomainInfo } from '@/web3-lib/apis/view-api'\nimport { preValidRoot } from '@/web3-lib/apis/cybersquatting-api'\n\nexport default {\n  name:\"TopCybersquatting\",\n  computed:{\n    domainType(){\n      const text = this.asset.domaintext||''\n      if(text === '')return ''\n      const typ = getDomainType(text)\n      const typeText = this.$t(`g.${typ}`)\n      return typeText\n    },\n    unitPrice(){\n      const ruleState = this.$store.getters[\"dapp/ruleState\"]\n      return  this.asset.isRare ? ruleState.rareBas : ruleState.rootBas\n    },\n    getTotal(){\n      const ruleState = this.$store.getters[\"dapp/ruleState\"]\n      const unitBas = this.asset.isRare ? ruleState.rareBas : ruleState.rootBas\n      let baseSum = this.years * unitBas;\n      const externalBas = ruleState.externalBas\n      return this.asset.openApplied ? baseSum + parseFloat(externalBas) : baseSum;\n    },\n    getTopExpireDate(){\n      if(!this.topData.expire)return ''\n      return dateFormat(this.topData.expire)\n    },\n    ...Vuex.mapGetters({\n      ruleState:'dapp/ruleState'\n    }),\n    ...Vuex.mapState({\n      maxYears:state => state.dapp.maxRegYears\n    }),\n  },\n  data(){\n    return {\n      domain:\"\",\n      years:1,\n      subUnitPrice:4,\n      asset:{\n        domaintext:'',\n        hash:'',\n        openApplied:'',\n        isCustomed:false,\n        isRoot:true,\n        isRare:false,\n        expire:0\n      },\n      commitData:{\n        domaintext:'',\n        hash:''\n      },\n      ctrl:{\n        error:'',\n        loading:false\n      },\n      ctrlState:{\n        minBas:4,\n        maxPriceBas:10000000000\n      }\n    }\n  },\n  methods:{\n    closeSubApply(){\n\n    },\n    openSubApply(){\n\n    },\n    openAppliedChange(){\n      if(!this.asset.openApplied || !this.asset.isCustomed){\n        this.subUnitPrice = parseFloat(this.ctrlState.subBas)\n      }else{\n        this.subUnitPrice = parseFloat(wei2Bas(this.asset.customPrice))\n      }\n    },\n    customedChangeHandle(){\n      if(!this.asset.isCustomed){\n        this.subUnitPrice = parseFloat(this.ctrlState.subBas)\n      }else if(this.asset.customPrice){\n        this.subUnitPrice = parseFloat(wei2Bas(this.asset.customPrice))\n      }\n    },\n    async registing(){\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return\n      }\n      const web3State = this.$store.getters['web3State']\n\n      try{\n        const validArgs = {\n          hash:this.asset.hash,\n          years:this.years,\n          openApplied:this.asset.openApplied,\n          isCustomed:this.asset.isCustomed,\n          customPriceBas:this.subUnitPrice,\n          chainId:web3State.chainId,\n          wallet:web3State.wallet\n        }\n        console.log(\"valid args\",validArgs)\n        const commitData = await preValidRoot(validArgs)\n        console.log(\"commitData\",commitData)\n        this.$router.push({\n          name:\"domain.cybersquattingres\",\n          params:{\n            commitData:commitData\n          },\n          query:{\n            domaintext:this.asset.domaintext\n          }\n        })\n      }catch(ex){\n        let msg = ''\n        const domaintext = this.domaintext\n        switch (ex) {\n          case LACK_OF_ETH:\n          case LACK_OF_TOKEN:\n          case UNSUPPORT_NETWORK:\n            msg = this.$t(`code.${ex}`)\n            this.$message(this.$basTip.error(msg))\n            return\n          case DOMAIN_PRICE_RANGE:\n            msg = this.$t(`code.${ex}`,{begin:4,end:MaxPriceBas})\n            this.$message(this.$basTip.error(msg))\n            return\n          case DOMAIN_NOT_EXPIRED:\n          case PARAM_ILLEGAL:\n            console.log('lost args',ex)\n            return;\n          default:\n            break;\n        }\n\n        if(ex.code === USER_REJECTED_REQUEST){\n          let errMsg = that.$t(`code.${ex.code}`)\n          that.$message(that.$basTip.error(errMsg))\n        }else if(ex.message.includes(NetworkRequestFail)){\n          that.$message(that.$basTip.error(ex.message))\n        }else{\n          console.error(\"Unknow Error\",ex)\n        }\n      }\n\n    }\n  },\n  mounted(){\n    const ruleState = this.$store.getters[\"dapp/ruleState\"]\n    this.ctrlState = Object.assign(this.ctrlState,ruleState)\n    const domain = this.$route.query.domaintext\n    const hash = this.$route.query.hash\n    console.log(\"domain\",domain,hash,this.ctrlState,ruleState)\n    this.asset.domaintext = domain\n    this.asset.hash = hash\n\n    const web3State = this.$store.getters[\"web3State\"];\n    if(hash && checkSupport(web3State.chainId)){\n      getDomainInfo(hash,web3State.chainId).then(resp=>{\n        if(resp.assetinfo){\n          this.asset = Object.assign(this.asset,resp.assetinfo)\n          if(resp.assetinfo.isCustomed){\n            this.subUnitPrice = parseFloat(wei2Bas(resp.assetinfo.customPrice))\n          }\n          console.log(\"Asset\",this.asset)\n        }else{\n          //TODO\n        }\n      }).catch(ex=>{\n        console.log(ex)\n        //TODO\n      })\n    }else{\n      //TODO\n    }\n  },\n}\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/Domain/TopCybersquatting.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-7 bas-card\"},[_c('div',{staticClass:\"bas-card__header\"},[_c('div',{staticClass:\"bas-card__header-title\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.CybersquattingDomain'))+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"bas-gray-split\"}),_vm._v(\" \"),_c('div',{staticClass:\"bas-card__body bas-border-none\"},[_c('el-form',{staticClass:\"col-10\",attrs:{\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('l.Domain')}},[_c('el-input',{staticClass:\"bas-regist--domain-input\",attrs:{\"disabled\":true,\"placeholder\":\"please enter domain...\"},model:{value:(_vm.asset.domaintext),callback:function ($$v) {_vm.$set(_vm.asset, \"domaintext\", $$v)},expression:\"asset.domaintext\"}},[_c('template',{slot:\"append\"},[_vm._v(_vm._s(_vm.domainType))])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('l.PriceBas')}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.unitPrice)+\" \")]),_vm._v(\" \"),_c('span',[_vm._v(\" BAS/year \")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('l.HasOpenAppliedSubRegistLabel')}},[_c('el-radio-group',{on:{\"change\":_vm.openAppliedChange},model:{value:(_vm.asset.openApplied),callback:function ($$v) {_vm.$set(_vm.asset, \"openApplied\", $$v)},expression:\"asset.openApplied\"}},[_c('el-radio',{attrs:{\"label\":false},on:{\"change\":_vm.closeSubApply}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('l.N'))+\"\\n              \")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":true},on:{\"change\":_vm.openSubApply}},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('l.Y'))+\"\\n              \")])],1)],1),_vm._v(\" \"),(Boolean(_vm.asset.openApplied))?_c('el-form-item',{staticClass:\"regist-custom--wrapper\",attrs:{\"label\":_vm.$t('l.SubDomainPrice')}},[_c('div',{staticClass:\"inner-flexbox\"},[_c('el-input-number',{attrs:{\"name\":\"subUnitPrice\",\"precision\":2,\"step\":1.0,\"controls-position\":\"\",\"disabled\":!this.asset.isCustomed,\"max\":parseFloat(_vm.ctrlState.maxPriceBas||10000000000),\"min\":parseFloat(_vm.ctrlState.minSubBas||4)},model:{value:(_vm.subUnitPrice),callback:function ($$v) {_vm.subUnitPrice=$$v},expression:\"subUnitPrice\"}}),_vm._v(\" \"),_c('el-checkbox',{staticClass:\"bas-external--tip\",on:{\"change\":_vm.customedChangeHandle},model:{value:(_vm.asset.isCustomed),callback:function ($$v) {_vm.$set(_vm.asset, \"isCustomed\", $$v)},expression:\"asset.isCustomed\"}},[_c('p',{staticClass:\"tips\"},[_vm._v(\"\\n                  Notice: \"+_vm._s(_vm.$t('p.DomainRegistExternalBasTip'))+_vm._s(_vm.ruleState.mailSeviceBas)+\"BAS\\n                \")])])],1)]):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('l.PurchaseYears')}},[_c('el-input-number',{attrs:{\"name\":\"years\",\"controls-position\":\"\",\"min\":1,\"max\":_vm.ctrlState.maxRegYears},model:{value:(_vm.years),callback:function ($$v) {_vm.years=$$v},expression:\"years\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Year\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"col-12 text-center\"},[_c('span',{staticClass:\"bas-text-green\"},[_vm._v(_vm._s(_vm.$t('l.Total'))+\":\")]),_vm._v(\" \"),_c('h2',{staticClass:\"d-inline bas-text-green\"},[_vm._v(_vm._s(_vm.getTotal))]),_vm._v(\" \"),_c('span',{staticClass:\"bas-text-green\"},[_vm._v(\"BAS\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"bas-card__footer\"},[_c('button',{staticClass:\"btn w-25 bas-btn-primary\",on:{\"click\":_vm.registing}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('l.RegistBtn'))+\"\\n        \")])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35ab8288\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Domain/TopCybersquatting.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35ab8288\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TopCybersquatting.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TopCybersquatting.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TopCybersquatting.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35ab8288\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TopCybersquatting.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Domain/TopCybersquatting.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}