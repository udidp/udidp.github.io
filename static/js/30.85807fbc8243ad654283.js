webpackJsonp([30],{"8SQj":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("woOf"),r=a.n(s),i=a("Xxa5"),n=a.n(i),o=a("exGp"),l=a.n(o),c=a("Dd8w"),u=a.n(c),p=(a("UQqG"),a("0xDb")),d=a("JX3P"),b=(a("U/4D"),a("Xyu6")),m=a("sGRa"),h={name:"SubCybersquatting",computed:u()({getTotal:function(){var t=this.years*parseFloat(this.unitPrice);return"number"==typeof t?t.toFixed(2):t},topExpireDate:function(){return this.rootasset.expire?Object(p.h)(this.rootasset.expire):""}},Vuex.mapState({maxYears:function(t){return t.dapp.maxRegYears}})),data:function(){return{subPart:"",topPart:"",years:1,hasError:!1,unitPrice:4,rootasset:{domaintext:"",owner:"",hash:"",expire:0},asset:{domaintext:"",hash:"",expire:0,owner:""},ctrl:{loading:!1,closeable:!1}}},methods:{gotoWhois:function(t){t&&this.$router.push({path:"/domain/detail/"+t})},registing:function(){var t=this;return l()(n.a.mark(function e(){var a,s,r,i,o,l,c,u,p,b,h,v;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$store.getters.metaMaskDisabled){e.next=3;break}return t.$metamask(),e.abrupt("return");case 3:return a=t.$store.getters.web3State,s=t.topPart,r=t.years,i=t.asset.hash,o=t.subPart+"."+t.topPart,e.prev=9,l=a.chainId,c=a.wallet,u=t.unitPrice,p={hash:i,unitBas:u,roottext:s,years:r,chainId:l,wallet:c},t.ctrl.loading=!0,e.next=18,Object(m.b)(p);case 18:b=e.sent,t.ctrl.loading=!1,t.$router.push({name:"domain.cybersquattingres",params:{commitData:b},query:{domaintext:o}}),e.next=42;break;case 24:e.prev=24,e.t0=e.catch(9),t.ctrl.loading=!1,h="",t.domaintext,e.t1=e.t0,e.next=e.t1===d.k?32:e.t1===d.l?32:e.t1===d.F?32:e.t1===d.g?35:e.t1===d.f?38:e.t1===d.z?38:40;break;case 32:return h=t.$t("code."+e.t0),t.$message(t.$basTip.error(h)),e.abrupt("return");case 35:return h=t.$t("code."+e.t0,{begin:4,end:MaxPriceBas}),t.$message(t.$basTip.error(h)),e.abrupt("return");case 38:return e.abrupt("return");case 40:return e.abrupt("break",41);case 41:e.t0.code===d.G?(v=that.$t("code."+e.t0.code),that.$message(that.$basTip.error(v))):e.t0.message.includes(d.y)&&that.$message(that.$basTip.error(e.t0.message));case 42:case"end":return e.stop()}},e,t,[[9,24]])}))()}},mounted:function(){var t=this,e=this.$route.query.topPart,a=this.$route.query.hash,s=this.$route.query.subPart,i=Object(p.l)(e);this.topPart=i,this.subPart=s;var n=this.$store.getters["dapp/web3State"],o=this.$store.getters["dapp/ruleState"];a&&n.chainId&&Object(b.c)(a,n.chainId).then(function(e){if(e.state){t.asset=r()(t.asset,e.assetinfo);var a=e.rootasset;t.rootasset=r()(t.rootasset,a),a.isCustomed&&a.openApplied?t.unitPrice=parseFloat(Object(p.C)(a.customPrice)):t.unitPrice=o.subBas}}).catch(function(t){})},watch:{}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-7 bas-card"},[a("div",{staticClass:"bas-card__header"},[a("div",{staticClass:"bas-card__header-title"},[t._v("\n          "+t._s(t.$t("l.CybersquattingDomain"))+"\n        ")])]),t._v(" "),a("div",{staticClass:"bas-gray-split"}),t._v(" "),a("div",{staticClass:"bas-card__body bas-border-none"},[a("el-form",{staticClass:"col-10",attrs:{"label-width":"160px"}},[a("el-form-item",{attrs:{label:t.$t("l.Domain")}},[a("el-input",{staticClass:"bas-regist--domain-input",attrs:{disabled:!0,placeholder:"please enter domain..."},model:{value:t.subPart,callback:function(e){t.subPart=e},expression:"subPart"}},[a("template",{slot:"append"},[t._v(t._s("."+t.topPart))])],2)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("l.PriceBas")}},[a("span",[t._v(" "+t._s(t.unitPrice)+" ")]),t._v(" "),a("span",[t._v(" BAS/year ")])]),t._v(" "),a("el-form-item",{attrs:{label:t.$t("l.PurchaseYears")}},[a("el-input-number",{attrs:{name:"years",disabled:t.ctrl.loading,"controls-position":"",min:1,max:t.maxYears},model:{value:t.years,callback:function(e){t.years=e},expression:"years"}}),t._v(" "),a("span",[t._v("Year ")])],1)],1),t._v(" "),a("div",{staticClass:"row justify-content-center align-items-center"},[a("el-form",{staticClass:"col-10 bas-topinfo-container",attrs:{size:"mini","label-position":"right"}},[a("el-form-item",[a("h6",{staticClass:"pt-2",attrs:{slot:"label"},slot:"label"},[t._v(t._s(t.$t("p.DomainRegistSubRootInfoTitle")))])]),t._v(" "),a("el-form-item",{attrs:{"label-width":"120px",label:t.$t("l.ExpiredDate")}},[a("span",[t._v(t._s(t.topExpireDate))])]),t._v(" "),a("el-form-item",{attrs:{"label-width":"120px",label:t.$t("l.Owner")}},[t._v("\n              "+t._s(t.rootasset.owner?t.rootasset.owner:t.$t("l.Unregist"))+"\n            ")]),t._v(" "),""!==t.rootasset.owner?a("el-form-item",{attrs:{"label-width":"120px"}},[a("a",{staticClass:"bas-link topinfo-whois",attrs:{slot:"label"},on:{click:function(e){return e.preventDefault(),t.gotoWhois(t.topPart)}},slot:"label"},[t._v("\n                Who is >>\n              ")])]):t._e()],1)],1),t._v(" "),a("div",{staticClass:"col-12 text-center pt-3"},[a("span",{staticClass:"bas-text-green"},[t._v(t._s(t.$t("l.Total"))+":")]),t._v(" "),a("h2",{staticClass:"d-inline bas-text-green"},[t._v(t._s(t.getTotal))]),t._v(" "),a("span",{staticClass:"bas-text-green"},[t._v("BAS")])])],1),t._v(" "),a("div",{staticClass:"bas-card__footer"},[a("button",{staticClass:"btn w-25 bas-btn-primary",attrs:{disabled:t.ctrl.loading},on:{click:t.registing}},[t._v("\n          "+t._s(t.$t("l.RegistBtn"))+"\n        ")])])])])])},staticRenderFns:[]};var _=a("VU/8")(h,v,!1,function(t){a("dyK4")},null,null);e.default=_.exports},dyK4:function(t,e){}});
//# sourceMappingURL=30.85807fbc8243ad654283.js.map