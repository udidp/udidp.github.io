{"version":3,"sources":["webpack:///src/views/Wallet/Favourites.vue","webpack:///./src/views/Wallet/Favourites.vue?21c3","webpack:///./src/views/Wallet/Favourites.vue"],"names":["Favourites","name","components","computed","extends_default","domainType","this","domain","$t","Object","Validator","Vuex","mapGetters","ruleState","minsubBas","state","parseFloat","utils","dapp","subGas","maxYears","maxRegYears","mapState","dappState","getTotal","total","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","favourPriceTable","next","done","i","value","price","duration","err","return","data","topText","subText","years","openApplied","isCustomed","subUnitPrice","unitPrice","maxPriceBas","topasset","owner","customPrice","Math","pow","subasset","ctrl","loading","favourTableData","methods","cellclick","val","handleSelectionChange","getFavourItems","favourList","JSON","parse","localStorage","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","favourItem","isFavor","type","loadSubasset","loadTopasset","push","j","customedDurationChanged","deFavour","row","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","$store","dispatch","remove","stop","translateType","setUnitPrice","item","getters","trim","subBas","rareBas","rootBas","setSubUnitPrice","expire","curTs","parseInt","Date","getTime","customWei","_this2","_callee2","web3State","chainId","_context2","domain_api","then","resp","assign_default","assetinfo","catch","e","_this3","_callee3","textArr","_context3","web3_lib","sent","split","ex","resetTopAsset","defSubGas","validForm","msg","max","$message","$basTip","error","batchRegist","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","commitSubRegist","_this4","_callee4","wallet","preData","commitData","_context4","$metamask","abrupt","isSubDomain","domainText","customPriceWei","costWei","preCheck4Sub","hash","costwei","$router","params","t0","t1","DOMAIN_HAS_TAKEN","DOMAIN_FORMAT_ILLEGAL","ROOT_REGIST_CLOSE","DOMAIN_TOP_EXPIRED","LACK_OF_TOKEN","LACK_OF_ETH","text","commitRegist","regdomain","_this5","_callee5","issub","priceTip","domainStruct","_context5","regDomain","begin","end","domaintext","toLowerCase","subtext","toptext","commitSubRegisting","commitTopRegisting","_this6","_callee6","_context6","_this7","_callee7","inputParams","_context7","preCheck4Root","created","mounted","$route","watch","old","Wallet_Favourites","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","_v","_s","directives","rawName","expression","ref","staticStyle","width","on","selection-change","header-align","align","class-name","label","min-width","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","property","formatter","precision","step","controls-position","min","change","model","callback","$$v","$set","cursor","src","alt","click","$event","color","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/39.804a214f6e8acca63fa3.js","sourcesContent":["<template>\n  <div>\n    <el-row :gutter=\"20\" class=\"bas-white-bg\">\n      <el-col :span=\"24\" class=\"bas-fav-info\">\n        <div class=\"bas-card__header\">\n          <div class=\"bas-card__header-title\">\n            {{ $t(\"l.walletFav\") }}\n          </div>\n        </div>\n        <div class=\"bas-gray-split\" />\n\n        <div v-loading=\"ctrl.loading\" class=\"bas-card__body bas-border-none\">\n          <div class=\"not-taken\">\n            <h5 class=\"not-taken\">{{ $t(\"l.notTaken\") }}</h5>\n            <el-table\n              ref=\"multipleTableRef\"\n              :data=\"favourTableData\"\n              style=\"width: 100%\"\n              @selection-change=\"handleSelectionChange\"\n            >\n              <el-table-column type=\"selection\" width=\"55\" />\n              <el-table-column\n                header-align=\"left\"\n                align=\"left\"\n                :class-name=\"'column-domain'\"\n                label=\"Domain\"\n                min-width=\"180\"\n                show-overflow-tooltip\n              >\n                <template #default=\"scope\">{{ scope.row.domain }}</template>\n              </el-table-column>\n              <el-table-column\n                header-align=\"left\"\n                align=\"left\"\n                property=\"type\"\n                :formatter=\"translateType\"\n                label=\"Type\"\n                width=\"200\"\n              />\n              <el-table-column\n                header-align=\"left\"\n                align=\"left\"\n                property=\"price\"\n                label=\"Price\"\n                width=\"60\"\n              />\n              <el-table-column\n                header-align=\"center\"\n                align=\"center\"\n                property=\"duration\"\n                label=\"Duration\"\n                show-overflow-tooltip\n                min-width=\"240\"\n              >\n                <template slot-scope=\"scope\">\n                  <span>year</span>\n                  <el-input-number\n                    v-model=\"scope.row.duration\"\n                    :precision=\"2\"\n                    :step=\"1.0\"\n                    controls-position=\"\"\n                    @change=\"customedDurationChanged\"\n                    :min=\"1\"\n                    :max=\"ruleState.maxRegYears\"\n                  >\n                  </el-input-number>\n                </template>\n              </el-table-column>\n              <el-table-column\n                header-align=\"left\"\n                align=\"left\"\n                :class-name=\"'column-domain'\"\n                label=\"Total\"\n              >\n                <template #default=\"scope\">{{ scope.row.total }}</template>\n              </el-table-column>\n              <el-table-column\n                header-align=\"left\"\n                align=\"left\"\n                label=\"Favourite\"\n                min-width=\"100\"\n              >\n                <template #default=\"scope\">\n                  <img\n                    style=\"cursor: pointer\"\n                    @click=\"deFavour(scope.row)\"\n                    :src=\"\n                      scope.row.isFavor\n                        ? '/static/icons/favour.svg'\n                        : '/static/icons/unfavour.svg'\n                    \"\n                    alt=\"\"\n                  />\n                </template>\n              </el-table-column>\n            </el-table>\n          </div>\n        </div>\n      </el-col>\n    </el-row>\n\n    <!-- regis footer -->\n    <el-row :gutter=\"20\">\n      <el-col :span=\"24\" class=\"text-center regist-footer\">\n        <div class=\"total\">\n          <span class=\"\" style=\"color: #fff\">{{ $t(\"l.Total\") }}:</span>\n          <h2 class=\"d-inline bas-text-green\">{{ getTotal }}</h2>\n          <span class=\"bas-text-green\">UDID</span>\n        </div>\n        <div class=\"bas-card__footer\">\n          <button class=\"btn bas-btn-primary\" @click=\"batchRegist\">\n            {{ $t(\"l.RegistBtn\") }}\n          </button>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport {\n  wei2Bas,\n  bas2Wei,\n  transBAS2Wei,\n  dateFormat,\n  getTopFromSub,\n  handleDomain,\n  toUnicodeDomain,\n  diffBnFloat,\n  numThousandsFormat,\n} from \"@/utils\";\nimport {\n  MAX_BILLON_VOL,\n  getDomainType,\n  isTop,\n  isSub,\n  isRareTop,\n  CheckLegal,\n  domainSplit,\n  MAX_AROOT_LEN,\n} from \"@/utils/Validator.js\";\n\n//import DomainProxy from '@/proxies/DomainProxy.js'\nimport { globalWebState } from \"@/web3-lib\";\n\nimport { findDomainInfo, hasTaken } from \"@/web3-lib/apis/domain-api.js\";\n\nexport default {\n  name: \"Favourite\",\n  components: {},\n  computed: {\n    domainType() {\n      return this.domain === \"\"\n        ? \"\"\n        : this.$t(`g.${getDomainType(this.domain)}`);\n    },\n\n    ...Vuex.mapGetters({\n      ruleState: \"dapp/ruleState\",\n      minsubBas: (state) => parseFloat(wei2Bas(state.dapp.subGas)),\n      maxYears: (state) => state.dapp.maxRegYears,\n    }),\n    ...Vuex.mapState({\n      dappState: (state) => state.dapp,\n    }),\n    getTotal() {\n      let total = 0;\n      console.log(\"gettotal\");\n      for (let i of this.favourPriceTable) {\n        total += i.price * i.duration;\n\n        // total += this.favourTableData[i].total;\n      }\n      return total;\n    },\n  },\n  data() {\n    return {\n      topText: \"\",\n      subText: \"\",\n      domain: \"\",\n      years: 1,\n      openApplied: true,\n      isCustomed: false,\n      subUnitPrice: 4,\n      unitPrice: 4,\n      maxPriceBas: MAX_BILLON_VOL,\n      topasset: {\n        name: \"\",\n        owner: \"\",\n        openApplied: false,\n        isCustomed: false,\n        customPrice: 4 * 10 ** 18,\n      },\n      subasset: {\n        name: \"\",\n        owner: \"\",\n      },\n      ctrl: {\n        loading: false,\n      },\n      favourTableData: [],\n      favourPriceTable: [],\n    };\n  },\n  methods: {\n    cellclick(val) {\n      console.log(val);\n    },\n    handleSelectionChange(val) {\n      this.favourPriceTable = val;\n      console.log(this.favourPriceTable);\n    },\n    getFavourItems() {\n      let favourList = JSON.parse(localStorage.favourList);\n\n      for (let i of favourList) {\n        let favourItem = {\n          price: \"\",\n          duration: 1,\n          isFavor: true,\n        };\n        favourItem.domain = i;\n        favourItem.type = this.$t(`g.${getDomainType(i)}`);\n\n        if (getDomainType(i) === \"subdomain\") {\n          this.loadSubasset(favourItem);\n        } else {\n          this.loadTopasset(favourItem);\n        }\n\n        this.favourTableData.push(favourItem);\n      }\n      for (let j in this.favourTableData) {\n        this.favourTableData[j].total =\n          this.favourTableData[j].price * this.favourTableData[j].duration;\n      }\n    },\n    customedDurationChanged(val) {\n      for (let j in this.favourTableData) {\n        this.favourTableData[j].total =\n          this.favourTableData[j].price * this.favourTableData[j].duration;\n      }\n    },\n    async deFavour(row) {\n      await this.$store.dispatch(\"favourite/deFavour\", row.domain);\n      this.favourTableData.remove(row);\n    },\n    translateType(row) {\n      let domainType = getDomainType(row.domain);\n      return this.$t(`g.${domainType}`);\n    },\n    setUnitPrice(item) {\n      const ruleState = this.$store.getters[\"dapp/ruleState\"];\n      if (\n        item.domain === undefined ||\n        item.domain === \"\" ||\n        item.domain.trim() === \"\"\n      ) {\n        item.price = ruleState.subBas;\n        item.total = item.price * item.duration;\n        return;\n      }\n\n      let type = getDomainType(item.domain);\n\n      const topasset = this.topasset;\n      switch (type) {\n        case \"subdomain\":\n          item.price = ruleState.subBas;\n          if (topasset.owner && topasset.openApplied && topasset.isCustomed) {\n            console.log(item);\n            item.price = wei2Bas(topasset.customPrice);\n            item.total = item.price * item.duration;\n          } else {\n            item.price = wei2Bas(topasset.customPrice);\n            item.total = item.price * item.duration;\n          }\n          break;\n        case \"raretop\":\n          item.price = ruleState.rareBas;\n          item.total = item.price * item.duration;\n          break;\n        case \"commontop\":\n          item.price = ruleState.rootBas;\n          item.total = item.price * item.duration;\n          break;\n        default:\n          break;\n      }\n    },\n    setSubUnitPrice(item) {\n      const ruleState = this.$store.getters[\"dapp/ruleState\"];\n      const subasset = this.subasset;\n      const expire = subasset.expire;\n      const curTs = parseInt(new Date().getTime() / 1000);\n      if (\n        subasset.owner &&\n        subasset.openApplied &&\n        subasset.isCustomed &&\n        expire - curTs > 0\n      ) {\n        const customWei = subasset.customPrice;\n        item.price = customWei ? wei2Bas(customWei) : ruleState.subBas;\n        item.total = item.price * item.duration;\n      } else {\n        item.price = ruleState.subBas;\n        item.total = item.price * item.duration;\n      }\n    },\n    async loadTopasset(item) {\n      let that = this;\n      const web3State = this.$store.getters[\"dapp/web3State\"];\n      const chainId = web3State.chainId;\n      if (chainId) {\n        findDomainInfo(item.domain, chainId)\n          .then((resp) => {\n            this.setUnitPrice(item);\n            if (resp.state) {\n              this.topasset = Object.assign({}, resp.assetinfo);\n\n              this.setUnitPrice(item);\n            }\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n      }\n    },\n    async loadSubasset(item) {\n      const web3State = await globalWebState();\n      let textArr = item.domain.split(\".\");\n      const topText = textArr[1];\n      this.topText = topText;\n      this.subText = textArr[0] || \"\";\n\n      this.subasset = Object.assign(this.subasset, { name: topText });\n      const chainId = web3State.chainId;\n\n      if (topText) {\n        findDomainInfo(topText, chainId)\n          .then((resp) => {\n            if (resp.state) {\n              this.subasset = Object.assign({}, resp.assetinfo);\n            }\n            this.setSubUnitPrice(item);\n          })\n          .catch((ex) => {\n            console.log(ex);\n            this.setSubUnitPrice(item);\n          });\n\n        // if (this.subText && topText !== undefined) {\n        //   const fullText = `${this.subText}.${topText}`;\n        //   this.checkSubHasTaken(fullText, chainId);\n        // }\n      }\n    },\n    resetTopAsset() {\n      const defSubGas = this.$store.state.dapp.subGas;\n      this.topasset = Object.assign(\n        {},\n        {\n          name: \"\",\n          owner: \"\",\n          openApplied: false,\n          isCustomed: false,\n          customPrice: defSubGas,\n        }\n      );\n    },\n    validForm() {\n      let domain = this.domain;\n      let msg = \"\";\n      try {\n        CheckLegal(domain);\n        if (this.topasset.owner && !this.topasset.openApplied) throw 10012;\n        return true;\n      } catch (ex) {\n        console.log(\">>>>>>\", ex, typeof ex);\n        switch (ex) {\n          case 10000:\n            msg = `${domain} ${this.$t(\"l.Illegal\")}`;\n            break;\n          case 10001:\n            msg = this.$t(\"code.10001\", { max: MAX_AROOT_LEN });\n            break;\n          case 10002:\n            msg = `${domain} ${this.$t(\"l.ErrorHasSpecialCharacter\")}`;\n            break;\n          case 10003:\n            msg = `${domain} 域名超过二级`;\n            break;\n          case 10004:\n            msg = `${domain} ${this.$t(\"l.ErrorHasUpperCase\")}`;\n            break;\n          case 10012:\n            msg = `${domain} ${this.$t(\"l.ErrorHasSpecialCharacter\")}`;\n            break;\n          default:\n            msg = `${domain} ${this.$t(\"l.Illegal\")}`;\n            break;\n        }\n        this.$message(this.$basTip.error(msg));\n        return false;\n      }\n    },\n    batchRegist() {\n      console.log(this.favourPriceTable.length);\n      for (let regDomain of this.favourPriceTable) {\n        if (regDomain.type === \"Sub Domain\") {\n        } else {\n          console.log(\"root\");\n        }\n      }\n    },\n    async commitSubRegist() {\n      if (this.$store.getters[\"metaMaskDisabled\"]) {\n        this.$metamask();\n        return;\n      }\n      if (this.validForm()) {\n        const web3State = this.$store.getters[\"dapp/web3State\"];\n        let chainId = web3State.chainId;\n        let wallet = web3State.wallet;\n        let subText = this.subText;\n        let topText = this.topText;\n\n        const preData = {\n          isSubDomain: true,\n          domainText: subText,\n          topText,\n          openApplied: false,\n          isCustomed: false,\n          customPriceWei: 0,\n          costWei: 0,\n          years: this.years,\n          chainId,\n          wallet,\n        };\n        let subErrMsg = \"\";\n\n        try {\n          this.ctrl.loading = true;\n          const resp = await preCheck4Sub(\n            topText,\n            subText,\n            this.years,\n            chainId,\n            wallet\n          );\n          const commitData = Object.assign({}, preData, {\n            hash: resp.hash,\n            costWei: resp.costwei,\n          });\n\n          console.log(\"Regist Sub Data\", commitData);\n\n          this.$router.push({\n            name: \"domain.applyresult\",\n            params: {\n              commitData,\n            },\n          });\n        } catch (ex) {\n          this.ctrl.loading = false;\n          let msg = \"\";\n          switch (ex) {\n            case DOMAIN_HAS_TAKEN:\n            case DOMAIN_FORMAT_ILLEGAL:\n              msg = this.$t(`code.${ex}`, { text: subText });\n              this.$message(this.$basTip.error(msg));\n              return;\n            case ROOT_REGIST_CLOSE:\n            case DOMAIN_TOP_EXPIRED:\n              msg = this.$t(`code.${ex}`, { text: topText });\n              this.$message(this.$basTip.error(msg));\n              return;\n\n            case LACK_OF_TOKEN:\n            case LACK_OF_ETH:\n              this.$message(this.$basTip.error(this.$t(`code.${ex}`)));\n              return;\n\n            case DOMAIN_FORMAT_ILLEGAL:\n              console.error(ex);\n              return;\n            default:\n              break;\n          }\n\n          console.error(ex);\n        }\n      }\n    },\n    async commitRegist(regdomain) {\n      let domain = regDomain.domain;\n      if (!this.validForm()) return;\n      if (this.$store.getters[\"metaMaskDisabled\"]) {\n        this.$metamask();\n        return;\n      }\n\n      const issub = isSub(domain);\n      const web3State = this.$store.getters[\"dapp/web3State\"];\n      const chainId = web3State.chainId;\n\n      const subUnitPrice = this.subUnitPrice;\n      if (parseFloat(subUnitPrice) <= 0.0) {\n        let priceTip = this.$t(\"p.SaleOnPriceUnitBasValidError\", {\n          begin: 0,\n          end: numThousandsFormat(MAX_BILLON_VOL),\n        });\n        this.$message(this.$basTip.error(priceTip));\n        return;\n      }\n\n      try {\n        const exist = await hasTaken(domain, chainId, !issub);\n        if (exist) {\n          this.$message(\n            this.$basTip.error(this.$t(`code.200002`, { domaintext: domain }))\n          );\n          return;\n        }\n      } catch (e) {\n        console.error(e);\n        return;\n      }\n\n      if (issub) {\n        let domainStruct = domainSplit(domain.trim().toLowerCase());\n        let subText = domainStruct.subtext;\n        let topText = domainStruct.toptext;\n        await this.commitSubRegisting(subText, topText);\n      } else {\n        //top\n        await this.commitTopRegisting(domain);\n      }\n    },\n    async commitSubRegisting(subText, topText) {\n      const web3State = this.$store.getters[\"dapp/web3State\"];\n\n      let chainId = web3State.chainId;\n      let wallet = web3State.wallet;\n\n      const commitData = {\n        isSubDomain: true,\n        domainText: subText,\n        topText,\n        openApplied: false,\n        isCustomed: false,\n        customPriceWei: bas2Wei(this.subUnitPrice + \"\"),\n        costWei: 0,\n        years: this.years,\n        chainId,\n        wallet,\n      };\n      try {\n        this.ctrl.loading = true;\n        const resp = await preCheck4Sub(\n          topText,\n          subText,\n          this.years,\n          chainId,\n          wallet\n        );\n        this.ctrl.loading = false;\n        console.log(\"CommitTopData:\", data);\n\n        const data = Object.assign({}, commitData, {\n          hash: resp.hash,\n          costWei: resp.costwei,\n        });\n        this.$router.push({\n          name: \"domain.applyresult\",\n          params: {\n            commitData: data,\n          },\n        });\n      } catch (ex) {\n        this.ctrl.loading = false;\n        let msg = \"\";\n        switch (ex) {\n          case DOMAIN_HAS_TAKEN:\n          case DOMAIN_FORMAT_ILLEGAL:\n            msg = this.$t(`code.${ex}`, { text: subText });\n            this.$message(this.$basTip.error(msg));\n            return;\n          case ROOT_REGIST_CLOSE:\n          case DOMAIN_TOP_EXPIRED:\n            msg = this.$t(`code.${ex}`, { text: topText });\n            this.$message(this.$basTip.error(msg));\n            return;\n\n          case LACK_OF_TOKEN:\n          case LACK_OF_ETH:\n            this.$message(this.$basTip.error(this.$t(`code.${ex}`)));\n            return;\n\n          case DOMAIN_FORMAT_ILLEGAL:\n            console.error(ex);\n            return;\n          default:\n            break;\n        }\n        console.error(ex);\n      }\n    },\n    async commitTopRegisting(text) {\n      let topErrMsg = \"\";\n\n      const web3State = this.$store.getters[\"dapp/web3State\"];\n      const chainId = web3State.chainId;\n      const wallet = web3State.wallet;\n      const costWei = bas2Wei(this.getTotal);\n      const customWei = bas2Wei(this.subUnitPrice);\n\n      console.log(chainId, web3State);\n\n      const commitData = {\n        isSubDomain: false,\n        domainText: text,\n        openApplied: this.openApplied,\n        isCustomed: this.isCustomed,\n        customPriceWei: customWei,\n        years: this.years,\n        chainId,\n        wallet,\n      };\n\n      const inputParams = {\n        domaintext: text,\n        isCustomed: this.isCustomed,\n        customWei: customWei,\n        years: this.years,\n        chainId,\n        wallet,\n      };\n\n      try {\n        this.ctrl.loading = true;\n        const resp = await preCheck4Root(inputParams);\n        this.ctrl.loading = false;\n        this.$router.push({\n          name: \"domain.applyresult\",\n          params: {\n            commitData: Object.assign({}, commitData, {\n              costWei: resp.costwei,\n              hash: resp.hash,\n            }),\n          },\n        });\n      } catch (ex) {\n        this.ctrl.loading = false;\n        let msg = \"\";\n        switch (ex) {\n          case DOMAIN_HAS_TAKEN:\n          case DOMAIN_FORMAT_ILLEGAL:\n            msg = this.$t(`code.${ex}`, { text: text });\n            this.$message(this.$basTip.error(msg));\n            return;\n          case ROOT_REGIST_CLOSE:\n          case DOMAIN_TOP_EXPIRED:\n            msg = this.$t(`code.${ex}`, { text: text });\n            this.$message(this.$basTip.error(msg));\n            return;\n\n          case LACK_OF_TOKEN:\n          case LACK_OF_ETH:\n            this.$message(this.$basTip.error(this.$t(`code.${ex}`)));\n            return;\n\n          case DOMAIN_FORMAT_ILLEGAL:\n            console.error(ex);\n            return;\n          default:\n            break;\n        }\n        console.error(ex);\n      }\n    },\n  },\n  created() {\n    this.getFavourItems();\n  },\n  mounted() {\n    this.domain = this.$route.params.domainText;\n\n    //this.ruleState = Object.assign({},ruleState)\n\n    //console.log('>rule>',this.ruleState)\n\n    let topText = getTopFromSub(this.domain);\n    if (topText) {\n      this.loadTopasset(topText);\n    }\n  },\n  watch: {\n    domain: function (val, old) {\n      // this.setUnitPrice();\n      if (val && val !== old && isSub(val)) {\n        let topText = getTopFromSub(val);\n        if (topText) {\n          this.loadTopasset(topText);\n        } else {\n          this.resetTopAsset();\n        }\n      }\n    },\n  },\n};\n</script>\n<style>\ndiv.bas-goback-nav.sub-goback-nav {\n  /* background: rgba(255, 255, 250, 1); */\n}\n.bas-card__footer {\n  margin-bottom: 0 !important;\n}\n\n.bas-fav-info {\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n}\n.regist-footer {\n  margin-top: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #04192a;\n}\n.bas-gray-split {\n  width: 100%;\n  height: 1px;\n  background: rgba(225, 229, 229, 1);\n}\n.el-input-group__append {\n  background: #0080ff;\n  color: #fff;\n  border: 2px solid #0080ff;\n}\n.bas-regist--domain-input .el-input__inner {\n  border: 2px solid #0080ff;\n}\n\n.el-table__body-wrapper .column-domain .cell {\n  font-size: 24px;\n  line-height: 1.2;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Wallet/Favourites.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticClass:\"bas-white-bg\",attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"bas-fav-info\",attrs:{\"span\":24}},[_c('div',{staticClass:\"bas-card__header\"},[_c('div',{staticClass:\"bas-card__header-title\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"l.walletFav\"))+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"bas-gray-split\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.ctrl.loading),expression:\"ctrl.loading\"}],staticClass:\"bas-card__body bas-border-none\"},[_c('div',{staticClass:\"not-taken\"},[_c('h5',{staticClass:\"not-taken\"},[_vm._v(_vm._s(_vm.$t(\"l.notTaken\")))]),_vm._v(\" \"),_c('el-table',{ref:\"multipleTableRef\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.favourTableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"left\",\"align\":\"left\",\"class-name\":'column-domain',\"label\":\"Domain\",\"min-width\":\"180\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.domain))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"left\",\"align\":\"left\",\"property\":\"type\",\"formatter\":_vm.translateType,\"label\":\"Type\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"left\",\"align\":\"left\",\"property\":\"price\",\"label\":\"Price\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"center\",\"align\":\"center\",\"property\":\"duration\",\"label\":\"Duration\",\"show-overflow-tooltip\":\"\",\"min-width\":\"240\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\"year\")]),_vm._v(\" \"),_c('el-input-number',{attrs:{\"precision\":2,\"step\":1.0,\"controls-position\":\"\",\"min\":1,\"max\":_vm.ruleState.maxRegYears},on:{\"change\":_vm.customedDurationChanged},model:{value:(scope.row.duration),callback:function ($$v) {_vm.$set(scope.row, \"duration\", $$v)},expression:\"scope.row.duration\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"left\",\"align\":\"left\",\"class-name\":'column-domain',\"label\":\"Total\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.total))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"left\",\"align\":\"left\",\"label\":\"Favourite\",\"min-width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"src\":scope.row.isFavor\n                      ? '/static/icons/favour.svg'\n                      : '/static/icons/unfavour.svg',\"alt\":\"\"},on:{\"click\":function($event){return _vm.deFavour(scope.row)}}})]}}])})],1)],1)])])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"text-center regist-footer\",attrs:{\"span\":24}},[_c('div',{staticClass:\"total\"},[_c('span',{staticStyle:{\"color\":\"#fff\"}},[_vm._v(_vm._s(_vm.$t(\"l.Total\"))+\":\")]),_vm._v(\" \"),_c('h2',{staticClass:\"d-inline bas-text-green\"},[_vm._v(_vm._s(_vm.getTotal))]),_vm._v(\" \"),_c('span',{staticClass:\"bas-text-green\"},[_vm._v(\"UDID\")])]),_vm._v(\" \"),_c('div',{staticClass:\"bas-card__footer\"},[_c('button',{staticClass:\"btn bas-btn-primary\",on:{\"click\":_vm.batchRegist}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"l.RegistBtn\"))+\"\\n        \")])])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f99c514\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Wallet/Favourites.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f99c514\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Favourites.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Favourites.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Favourites.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f99c514\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Favourites.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Wallet/Favourites.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}