{"version":3,"sources":["webpack:///src/views/Mail/MailDetail.vue","webpack:///./src/views/Mail/MailDetail.vue?7eeb","webpack:///./src/views/Mail/MailDetail.vue"],"names":["MailDetail","name","components","LoadingDot","computed","fulltext","aliasName","this","mailInfo","hash","hashName","Object","utils","domaintext","shortHash","expirationDate","expiration","data","domainhash","owner","bca","abandoned","refdata","MXBCA","origin","ctrl","editEnabled","loading","maskDialog","visible","methods","enableEditConf","disableEditConf","ShowMaskDialog","assign_default","CancelConfirm","SubmitMailConfig","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","web3State","chainId","wallet","msg","mxcbaStr","result","_msg","wrap","_context","prev","next","$store","getters","$metamask","abrupt","$t","$message","$basTip","error","refdata_utils","typ","val","mail_manager_api","sent","t0","t1","api_errors","text","code","stop","goback","$router","go","gotoDomainDetail","push","path","mounted","_this2","_callee2","resp","_context2","$route","query","view_api","state","mail","Mail_MailDetail","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","_s","attrs","type","disabled","autosize","model","value","callback","$$v","$set","expression","Boolean","_e","label-width","label","placeholder","staticStyle","position","width","close-on-click-modal","show-close","update:visible","$event","slot","margin-left","size","float","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/2.667714751fb9a976f535.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-9 pt-2\">\n        <div class=\"nav-breadcrumbs\" @click=\"goback\">\n          <span class=\"breadcrumbs\"><span>{{$t('l.GoBackPrevPage')}}</span></span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row justify-content-center mt-3\">\n      <div class=\"col-9 mail-box-wrapper \">\n        <div class=\"inner-box\">\n          <div class=\"mail-info--base\">\n            <div class=\"mail-info-primary\">\n              <label>{{$t('l.MailLabel')}}</label> <span>{{fulltext}}</span>\n            </div>\n            <div class=\"bas-hash-container\">\n              <div>\n                <label class=\"bas-info-label\" >\n                  {{$t('l.MailHashLabel')}}\n                </label>\n              </div>\n\n              <el-input type=\"textarea\" :disabled=\"true\"\n                class=\"bas-hash-show\"\n                v-model=\"mailInfo.hash\" autosize>\n              </el-input>\n            </div>\n            <div>\n              <label class=\"bas-info-label\"> {{$t('l.Domain')}}</label>\n              <a @click=\"gotoDomainDetail\"\n               class=\"mail-info-text bas-link\">{{mailInfo.domaintext}}</a>\n            </div>\n            <div>\n              <label  class=\"bas-info-label\">{{$t('l.ExpiredDate')}}</label>\n              <span class=\"mail-info-text\">{{expirationDate}}</span>\n            </div>\n          </div>\n          <div class=\"mail-conf-nav\">\n            <label class=\"conf-label\">{{$t('l.ConfigurationLabel')}}</label>\n            <span v-if=\"!ctrl.editEnabled && Boolean(mailInfo.hash)\"\n              class=\"breadcrumbs\" @click=\"enableEditConf\">\n              <i class=\"fa fa-edit\"></i>\n              <span>{{$t('l.UpdateTagLabel')}}</span>\n            </span>\n          </div>\n\n          <el-form label-width=\"150px\" class=\"mail-conf-container\">\n            <el-form-item :label=\"$t('l.MailAliasLabel')\">\n              <el-input  :disabled=\"!ctrl.editEnabled && !ctrl.loading\"\n                type=\"text\"\n                :placeholder=\"$t('l.RefNoDataPlaceholder')\"\n                v-model=\"mailInfo.aliasName\">\n              </el-input>\n            </el-form-item>\n            <el-form-item :label=\"$t('l.BMailBCALabel')\">\n              <!-- <div v-if=\"!ctrl.editEnabled\" class=\"\">\n                {{ refdata.MXBCA ? refdata.MXBCA : $t('l.RefNoDataPlaceholder')}}\n              </div> -->\n              <el-input v-if=\"!ctrl.editEnabled && !ctrl.loading\" disabled=\"true\"\n                type=\"textarea\" autosize=\"{minRows:1,maxRows:5}\"\n                :placeholder=\"$t('l.RefNoDataPlaceholder')\"\n                v-model=\"mailInfo.bca\">\n              </el-input>\n\n              <el-input v-if=\"ctrl.editEnabled || ctrl.loading\"\n                type=\"textarea\" autosize=\"{minRows:2,maxRows:5}\"\n                :placeholder=\"$t('l.RefNoDataPlaceholder')\"\n                v-model=\"mailInfo.bca\">\n              </el-input>\n            </el-form-item>\n\n            <el-form-item v-if=\"ctrl.editEnabled\">\n              <el-button type=\"primary\" class=\"bas-w-68 bas-btn-primary\"\n                :disabled=\"ctrl.loading\"\n                @click=\"SubmitMailConfig\">\n                <div style=\"position:relative;\">\n                  <LoadingDot v-if=\"ctrl.loading\"/>\n                </div>\n                {{ ctrl.loading ? $t('l.Transactioning')  : $t('g.Confirm')}}\n              </el-button>\n              <el-button type=\"default\" class=\"w-25\"\n                :disabled=\"ctrl.loading\"\n                @click=\"disableEditConf\">\n                {{$t('g.Cancel')}}\n              </el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n    </div>\n\n    <el-dialog  width=\"25%\"\n      :close-on-click-modal=\"false\"\n      :show-close=\"false\"\n      :visible.sync=\"maskDialog.visible\">\n      <div slot=\"title\" >\n        <span style=\"margin-left:10px;\">\n          {{$t('p.MailUpdateConfigDialog',{text:fulltext})}}\n        </span>\n      </div>\n      <div class=\"container\">\n        <div class=\"row justify-content-center\">\n          <div class=\"col-10 text-center\">\n            <h5>\n              {{maskDialog.loading ?  $t('l.TransactionTip') : $t('p.MailUpdateConfigContirmTip')}}\n            </h5>\n          </div>\n        </div>\n      </div>\n      <div class=\"dialog-footer\" slot=\"footer\">\n        <el-button size=\"mini\" :disabled=\"maskDialog.loading\"\n          @click=\"CancelConfirm\">\n          {{  $t('g.Cancel') }}\n        </el-button>\n        <el-button type=\"primary\" class=\"bas-btn-primary\"\n          size=\"mini\" :disabled=\"maskDialog.loading\"\n          @click=\"SubmitMailConfig\">\n          {{ $t('g.Confirm') }}\n        </el-button>\n        <loading-dot v-if=\"maskDialog.loading\" style=\"float:left;\"/>\n      </div>\n    </el-dialog>\n  </div>\n\n</template>\n<style lang=\"css\">\n.bas-hash-container {\n  width: 100%;\n  display: inline-flex;\n  align-items: center;\n}\n\n.bas-hash-container label.bas-info-label {\n  width:108px;\n}\na:not([href]):not([tabindex]) {\n    color: #00CA9B;\n    text-decoration: none;\n}\n\na.bas-link:focus,a.bas-link:hover {\n  color: #00CA9B;\n}\n\n.bas-hash-container div.bas-hash-show {\n  width: calc( 100% - 108px );\n}\n.bas-hash-show textarea.el-textarea__inner{\n  font-weight: 400;\n  color: rgba(4,6,46,1) !important;\n  background: transparent;\n  border: none;\n  cursor: none;\n}\n\n.bas-hash-show textarea.el-textarea__inner:hover{\n  cursor: text;\n}\n\n</style>\n\n<script>\nimport {\n  PARAM_ILLEGAL,UNSUPPORT_NETWORK,USER_REJECTED_REQUEST,\n  MAIL_HASH_INVALID,ACCOUNT_NOT_MATCHED,MAIL_HASH_EXPIRED\n} from '@/web3-lib/api-errors'\n\nimport { dateFormat,isOwner,compressAddr } from '@/utils'\nimport {\n  dataShowDelimiter,\n  str2ConfDatas,\n  confDatas2Str,\n} from '@/web3-lib/utils'\n\nimport {\n  validIPv4,\n  assertEmpty,\n  assertEmptyOrNotHex,\n  assertNotBCA,\n} from '@/utils/refdata-utils.js'\n\nimport {updateMailInfo} from '@/web3-lib/apis/mail-manager-api'\nimport {getMailInfo} from '@/web3-lib/apis/view-api'\n\nimport LoadingDot from '@/components/LoadingDot.vue'\nexport default {\n  name:\"MailDetailInfo\",\n  components:{\n    LoadingDot\n  },\n  computed: {\n    fulltext(){\n      const aliasName = this.mailInfo.aliasName\n      const hash = this.mailInfo.hash\n      const hashName = compressAddr(hash)\n      const domaintext = this.mailInfo.domaintext ||''\n      return aliasName ? `${aliasName}` : `${hashName}`\n    },\n    shortHash(){\n      return this.mailInfo.hash ? compressAddr(this.mailInfo.hash) : this.mailInfo.hash\n    },\n    expirationDate(){\n      if(!this.mailInfo.expiration) return ''\n      return dateFormat(this.mailInfo.expiration)\n    }\n  },\n  data() {\n    return {\n      mailInfo:{\n        hash:'',\n        domainhash:'',\n        aliasName:'',\n        domaintext:'',\n        expiration:0,\n        owner:'',\n        bca:'',\n        abandoned:true\n      },\n      refdata:{\n        MXBCA:''\n      },\n      origin:{\n        MXBCA:''\n      },\n      ctrl:{\n        editEnabled:false,\n        loading:false\n      },\n      maskDialog:{\n        visible:false,\n        loading:false,\n      }\n    }\n  },\n  methods: {\n    enableEditConf(){\n      this.ctrl.editEnabled = true\n    },\n    disableEditConf(){\n      this.ctrl.editEnabled = false\n    },\n    ShowMaskDialog(){\n      this.maskDialog = Object.assign({},this.maskDialog,{visible:true,loading:false})\n    },\n    CancelConfirm(){\n      this.maskDialog = Object.assign({},this.maskDialog,{visible:false,loading:false})\n    },\n    async SubmitMailConfig(){\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return\n      }\n\n      const web3State = this.$store.getters['web3State']\n      const owner = this.mailInfo.owner;\n      const chainId = web3State.chainId\n      const wallet = web3State.wallet\n      const hash = this.mailInfo.hash\n      const fulltext = this.fulltext\n\n      let msg = '';\n\n      if(!hash){\n        msg = this.$t('code.200004',{domaintext:this.fulltext})\n        this.$message(this.$basTip.error(msg))\n        return\n      }\n      if(!isOwner(owner,wallet)){\n        msg = this.$t('code.110110',{wallet,owner})\n        this.$message(this.$basTip.error(msg))\n        return\n      }\n\n      const mxcbaStr = this.mailInfo.bca\n      if(mxcbaStr && assertNotBCA(mxcbaStr)){\n        msg = this.$t('p.DomainRefDataValidIPIllegal',{\n          typ:this.$t(`l.RefDataMXBCA`),\n          val:mxcbaStr\n        })\n\n        this.$message(this.$basTip.error(msg))\n        return\n      }\n\n      try{\n        this.ctrl.loading = true\n        const aliasName = this.mailInfo.aliasName\n        const result = await updateMailInfo(hash,mxcbaStr,aliasName,chainId,wallet)\n        console.log(result)\n        this.mailInfo = Object.assign({},this.mailInfo,result)\n        //this.maskDialog.visible = false\n        this.ctrl.loading = false\n        this.ctrl.editEnabled = false\n      }catch(ex){\n        //this.maskDialog.visible = false\n        this.ctrl.loading = false\n        let msg = ''\n        switch (ex) {\n          case ACCOUNT_NOT_MATCHED:\n            msg = this.$t(`code.ex`,{wallet,owner})\n            this.$message(this.$basTip.error(msg))\n            return\n          case UNSUPPORT_NETWORK:\n            msg = this.$t(`code.${ex}`)\n            this.$message(this.$basTip.error(msg))\n            return;\n          case MAIL_HASH_INVALID:\n          case MAIL_HASH_EXPIRED:\n            console.log(ex)\n            msg = this.$t(`code.${ex}`,{text:fulltext})\n            this.$message(this.$basTip.error(msg))\n            return;\n          case PARAM_ILLEGAL:\n            console.error(ex)\n            return;\n          default:\n            break;\n        }\n        if(ex.code === USER_REJECTED_REQUEST){\n          msg = this.$t(`code.${USER_REJECTED_REQUEST}`)\n          this.$message(this.$basTip.error(msg))\n          return ;\n        }\n        console.error(ex)\n      }\n    },\n    goback(){\n      this.$router.go(-1)\n    },\n    gotoDomainDetail(){\n      const domaintext = this.mailInfo.domaintext\n      if((domaintext+'')){\n        this.$router.push({\n          path:`/domain/detail/${domaintext}`\n        })\n      }\n    }\n  },\n  async mounted() {\n    const hash = this.$route.query.hash\n    const domaintext = this.$route.query.domaintext\n    this.mailInfo.hash = hash\n    this.mailInfo.domaintext = domaintext\n\n    const web3State = this.$store.getters['web3State']\n    const chainId = web3State.chainId\n    const resp = await getMailInfo(hash,chainId)\n    console.log(resp)\n    if(resp.state){\n      this.mailInfo = Object.assign({},this.mailInfo,resp.mail)\n      // if(resp.refdata)this.refdata = Object.assign(this.refdata,resp.refdata)\n    }else{\n      console.error('Unfound in ',chainId)\n    }\n  },\n}\n</script>\n<style>\n.mail-info--base label {\n  font-size:18px;\n  font-weight: 400;\n  line-height: 25px;\n}\n\n.mail-info--base span.mail-info-text{\n  font-weight: 400;\n  color: rgba(4,6,46,1);\n}\n.bas-hash-inline {\n  width: 100%;\n  display: inline-flex;\n  justify-self: start;\n  align-items: center;\n}\n.nav-breadcrumbs {\n  margin: 10px auto 10 0;\n}\n.breadcrumbs {\n  cursor: pointer;\n  background-color: rgba(0,202,155,0.1);\n  border-radius: 12px;\n  padding: 4px 12px;\n  border:1px solid rgba(0,202,155,0.2);\n}\n\n.breadcrumbs span{\n  margin: auto .25rem;\n  color:rgba(0,202,155,1);\n  line-height: 20px;\n}\n\n.breadcrumbs i.fa {\n  color:rgba(0,202,155,1);\n}\n\n.mail-box-wrapper {\n  background:rgba(255,255,255,1);\n  border-radius:1px;\n}\n\n.mail-box-wrapper div.inner-box{\n  width: 65%;\n  margin: 24px auto;\n}\n\n.mail-info--base {\n  width: 100%;\n  background:rgba(245,246,246,.6);\n  border-radius:1px;\n  border:1px solid rgba(235,237,237,1);\n  padding: 12px 12px;\n}\n.mail-info-primary {\n  font-size:22px;\n  font-family:PingFangSC-Medium,PingFang SC;\n  font-weight:500;\n  color:rgba(4,6,46,1);\n  line-height:30px;\n  letter-spacing:1px;\n}\n.mail-conf-nav {\n  margin: 12px auto;\n}\n\n.mail-conf-nav i.fa {\n  font-size: 10px;\n}\n.mail-conf-nav span {\n  font-size:14px;\n}\n.conf-label {\n  line-height: 25px;\n  font-size: 16px;\n}\n\n.mail-conf-container div.el-input.is-disabled>input.el-input__inner {\n  color:rgba(4, 6, 46, .85);\n  cursor: copy;\n  background-color: rgba(255,255,255,1);\n  border:none;\n}\n\n\n.mail-conf-container div.el-textarea.is-disabled>textarea.el-textarea__inner {\n  color:rgba(4, 6, 46, .85);\n  cursor: copy;\n  background-color: rgba(255,255,255,1);\n  border:none;\n}\n\n.mail-conf-container label.el-form-item__label {\n  color:rgba(4, 6, 46, .95);\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Mail/MailDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-9 pt-2\"},[_c('div',{staticClass:\"nav-breadcrumbs\",on:{\"click\":_vm.goback}},[_c('span',{staticClass:\"breadcrumbs\"},[_c('span',[_vm._v(_vm._s(_vm.$t('l.GoBackPrevPage')))])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row justify-content-center mt-3\"},[_c('div',{staticClass:\"col-9 mail-box-wrapper \"},[_c('div',{staticClass:\"inner-box\"},[_c('div',{staticClass:\"mail-info--base\"},[_c('div',{staticClass:\"mail-info-primary\"},[_c('label',[_vm._v(_vm._s(_vm.$t('l.MailLabel')))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.fulltext))])]),_vm._v(\" \"),_c('div',{staticClass:\"bas-hash-container\"},[_c('div',[_c('label',{staticClass:\"bas-info-label\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('l.MailHashLabel'))+\"\\n              \")])]),_vm._v(\" \"),_c('el-input',{staticClass:\"bas-hash-show\",attrs:{\"type\":\"textarea\",\"disabled\":true,\"autosize\":\"\"},model:{value:(_vm.mailInfo.hash),callback:function ($$v) {_vm.$set(_vm.mailInfo, \"hash\", $$v)},expression:\"mailInfo.hash\"}})],1),_vm._v(\" \"),_c('div',[_c('label',{staticClass:\"bas-info-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('l.Domain')))]),_vm._v(\" \"),_c('a',{staticClass:\"mail-info-text bas-link\",on:{\"click\":_vm.gotoDomainDetail}},[_vm._v(_vm._s(_vm.mailInfo.domaintext))])]),_vm._v(\" \"),_c('div',[_c('label',{staticClass:\"bas-info-label\"},[_vm._v(_vm._s(_vm.$t('l.ExpiredDate')))]),_vm._v(\" \"),_c('span',{staticClass:\"mail-info-text\"},[_vm._v(_vm._s(_vm.expirationDate))])])]),_vm._v(\" \"),_c('div',{staticClass:\"mail-conf-nav\"},[_c('label',{staticClass:\"conf-label\"},[_vm._v(_vm._s(_vm.$t('l.ConfigurationLabel')))]),_vm._v(\" \"),(!_vm.ctrl.editEnabled && Boolean(_vm.mailInfo.hash))?_c('span',{staticClass:\"breadcrumbs\",on:{\"click\":_vm.enableEditConf}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('l.UpdateTagLabel')))])]):_vm._e()]),_vm._v(\" \"),_c('el-form',{staticClass:\"mail-conf-container\",attrs:{\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('l.MailAliasLabel')}},[_c('el-input',{attrs:{\"disabled\":!_vm.ctrl.editEnabled && !_vm.ctrl.loading,\"type\":\"text\",\"placeholder\":_vm.$t('l.RefNoDataPlaceholder')},model:{value:(_vm.mailInfo.aliasName),callback:function ($$v) {_vm.$set(_vm.mailInfo, \"aliasName\", $$v)},expression:\"mailInfo.aliasName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('l.BMailBCALabel')}},[(!_vm.ctrl.editEnabled && !_vm.ctrl.loading)?_c('el-input',{attrs:{\"disabled\":\"true\",\"type\":\"textarea\",\"autosize\":\"{minRows:1,maxRows:5}\",\"placeholder\":_vm.$t('l.RefNoDataPlaceholder')},model:{value:(_vm.mailInfo.bca),callback:function ($$v) {_vm.$set(_vm.mailInfo, \"bca\", $$v)},expression:\"mailInfo.bca\"}}):_vm._e(),_vm._v(\" \"),(_vm.ctrl.editEnabled || _vm.ctrl.loading)?_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"{minRows:2,maxRows:5}\",\"placeholder\":_vm.$t('l.RefNoDataPlaceholder')},model:{value:(_vm.mailInfo.bca),callback:function ($$v) {_vm.$set(_vm.mailInfo, \"bca\", $$v)},expression:\"mailInfo.bca\"}}):_vm._e()],1),_vm._v(\" \"),(_vm.ctrl.editEnabled)?_c('el-form-item',[_c('el-button',{staticClass:\"bas-w-68 bas-btn-primary\",attrs:{\"type\":\"primary\",\"disabled\":_vm.ctrl.loading},on:{\"click\":_vm.SubmitMailConfig}},[_c('div',{staticStyle:{\"position\":\"relative\"}},[(_vm.ctrl.loading)?_c('LoadingDot'):_vm._e()],1),_vm._v(\"\\n              \"+_vm._s(_vm.ctrl.loading ? _vm.$t('l.Transactioning')  : _vm.$t('g.Confirm'))+\"\\n            \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"w-25\",attrs:{\"type\":\"default\",\"disabled\":_vm.ctrl.loading},on:{\"click\":_vm.disableEditConf}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('g.Cancel'))+\"\\n            \")])],1):_vm._e()],1)],1)])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"width\":\"25%\",\"close-on-click-modal\":false,\"show-close\":false,\"visible\":_vm.maskDialog.visible},on:{\"update:visible\":function($event){return _vm.$set(_vm.maskDialog, \"visible\", $event)}}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('p.MailUpdateConfigDialog',{text:_vm.fulltext}))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-10 text-center\"},[_c('h5',[_vm._v(\"\\n            \"+_vm._s(_vm.maskDialog.loading ?  _vm.$t('l.TransactionTip') : _vm.$t('p.MailUpdateConfigContirmTip'))+\"\\n          \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"disabled\":_vm.maskDialog.loading},on:{\"click\":_vm.CancelConfirm}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('g.Cancel'))+\"\\n      \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"bas-btn-primary\",attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.maskDialog.loading},on:{\"click\":_vm.SubmitMailConfig}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('g.Confirm'))+\"\\n      \")]),_vm._v(\" \"),(_vm.maskDialog.loading)?_c('loading-dot',{staticStyle:{\"float\":\"left\"}}):_vm._e()],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a4b1ccc0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Mail/MailDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4b1ccc0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MailDetail.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4b1ccc0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./MailDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MailDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MailDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a4b1ccc0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MailDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Mail/MailDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}