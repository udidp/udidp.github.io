{"version":3,"sources":["webpack:///./src/web3-lib/networks/ether-scan.js","webpack:///src/views/Domain/apply/RegistResult.vue","webpack:///./src/views/Domain/apply/RegistResult.vue?6f6a","webpack:///./src/views/Domain/apply/RegistResult.vue"],"names":["domainHost","schema","subPath","etherscanUrl","chainId","hash","checkSupport","networkName","getNetworkName","toLowerCase","RegistResult","name","components","LoadingDot","computed","domainFullText","this","commitData","domainText","fullText","isSubDomain","topText","Object","utils","ex","btnDisabled","completed","getTxHashes","transactions","data","registState","costWei","openApplied","isCustomed","years","ctrl","inprogress","tmpData","expire","unitTS","dappState","wallet","methods","addTxHashItem","state","push","updateTxHashItem","idx","findIndex","el","splice","goback","$router","go","goEtherscan","$store","getters","url","window","open","commitApprove","_this","web3State","oann_api","on","txhash","receipt","status","transactionHash","err","catch","code","errMsg","$t","$message","$basTip","error","message","domainSendTransaction","_this2","that","Date","getTime","parseInt","subText","dispatch","setTimeout","gotoUpdateDNS","$metamask","fullDomain","path","params","domaintext","isRoot","Boolean","customedPrice","gotoWallet","activeTab","query","activeName","continueRegist","mounted","$route","assign_default","watch","val","old","apply_RegistResult","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","padding-left","attrs","disabled","click","_v","_s","slot","_l","item","index","key","$event","_e","src","margin-top","color","class","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/52.6225416034b2bb4c46ff.js","sourcesContent":["\nconst domainHost = \"etherscan.io\"\nconst schema = \"https\"\nconst subPath = \"tx\"\n\nimport { checkSupport, getNetworkName } from './index'\n\n/**\n *\n * @param {*} chainId\n * @param {*} hash\n */\nexport function etherscanUrl(chainId,hash) {\n  if(!checkSupport(chainId)) return \"\"\n  const networkName = getNetworkName(chainId)\n  if(!networkName || !hash) return \"\"\n\n  return `${schema}://${networkName.toLowerCase()}.${domainHost}/${subPath}/${hash}`\n}\n\nexport default {\n  etherscanUrl\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/web3-lib/networks/ether-scan.js","<template>\n<div class=\"background-fill-wrapper bas-gray-bg\">\n  <div class=\"container\">\n    <div class=\"row justify-content-center align-items-center d-none\">\n      <div class=\"col-md-8 col-sm-10 pb-2\" style=\"padding-left:0\">\n        <button class=\"bas-btn-goback\" @click=\"goback\" :disabled=\"ctrl.inprogress\">\n          <span class=\"text\">\n            {{$t('l.GoBackPrevPage')}}\n          </span>\n        </button>\n      </div>\n    </div>\n    <div class=\"row justify-content-center align-items-center pt-3\">\n      <el-card class=\"col-md-8 col-sm-10 box-card \">\n        <div class=\"clearfix\" slot=\"header\">\n          <h4>\n            Transaction Hash\n          </h4>\n        </div>\n        <div class=\"text item bas-inline-between\"\n          v-for=\"(item,index) in transactions\" :key=\"index\">\n          <div class=\"\" @click=\"goEtherscan(item.hash)\">{{item.hash}}</div>\n          <div v-if=\"item.state === 'loading'\">\n            <loading-dot />\n          </div>\n          <div v-else-if=\"item.state === 'success'\">\n            <i class=\"fa fa-check bas-text-green\"></i>\n          </div>\n          <div v-else-if=\"item.state === 'fail'\">\n            <i class=\"fa fa-close text-danger\"></i>\n          </div>\n        </div>\n      </el-card>\n    </div>\n\n    <div class=\"row justify-content-center align-items-center mt-3\">\n      <el-card class=\"col-md-8 col-sm-10 box-card\">\n        <div class=\"domain-regist--result-container text-center\">\n          <img src=\"/static/icons/bingo.png\" class=\"bas-bingo\">\n          <h6 v-if=\"registState == 'approving'\" class=\"bas-text-green mt-2\">\n            {{$t('p.DomainRegistApprove')}}\n          </h6>\n          <h6 v-if=\"registState == 'confirming'\" class=\"bas-text-green mt-2\">\n            {{$t('p.DomainRegistConfirm')}}\n          </h6>\n          <h6 v-if=\"registState == 'fail'\" class=\"text-danger mt-2\">\n            {{$t('p.DomainRegistFail')}}\n          </h6>\n          <h6 v-if=\"registState == 'success'\" class=\"bas-text-green mt-2\">\n            {{$t('p.DomainRegistSuccess')}}\n          </h6>\n          <h2 style=\"margin-top:.75rem;\">\n            {{ domainFullText }}\n          </h2>\n          <h6 v-if=\"registState == 'success'\"\n            style=\"color:rgba(212,216,216,1)\">\n            {{ $t('p.DomainRegistSuccessTip') }}\n          </h6>\n        </div>\n\n        <div class=\"w-100 bas-btn-group text-center\">\n          <button @click=\"gotoUpdateDNS\" :disabled=\"btnDisabled\"\n            class=\"w-25 mx-2 btn bas-btn-green-border\">\n            <i v-if=\"btnDisabled\" class=\"fa fa-ban\"></i>\n            {{$t('l.ConfigurationDNS')}}\n          </button>\n          <button @click=\"gotoWallet\" :disabled=\"btnDisabled\"\n            class=\"w-25 mx-2 btn bas-btn-green-border\">\n            <i v-if=\"!completed\" class=\"fa fa-ban\"></i>\n            {{$t('l.GtotoMyWallet')}}\n          </button>\n          <button @click=\"continueRegist\" :disabled=\"btnDisabled\"\n            class=\"w-25 mx-2 btn\" :class=\"btnDisabled ? '' : 'bas-btn-primary'\">\n            <i v-if=\"!completed\" class=\"fa fa-ban\"></i>\n             {{$t('l.ApplyAgain')}}\n          </button>\n        </div>\n      </el-card>\n    </div>\n  </div>\n</div>\n\n</template>\n\n<script>\nimport LoadingDot from '@/components/LoadingDot.vue'\n\nimport {\n  toUnicodeDomain\n} from '@/utils'\n\nimport {\n  approveToken4OannEmitter,\n  registRootEmitter,\n  registSubEmitter\n} from '@/web3-lib/apis/oann-api.js'\n\nimport { etherscanUrl } from '@/web3-lib/networks/ether-scan'\n\nexport default {\n  name:\"RegistResult\",\n  components:{\n    LoadingDot,\n\n  },\n  computed: {\n    domainFullText(){\n      if(!this.commitData.domainText)return ''\n      let fullText = this.commitData.isSubDomain ? `${this.commitData.domainText}.${this.commitData.topText}` :\n        this.commitData.domainText;\n\n        try{\n          return toUnicodeDomain(fullText)\n        }catch(ex){\n          return fullText\n        }\n    },\n    btnDisabled(){\n      return !this.completed\n    },\n    getTxHashes(){\n      return this.transactions;\n    }\n  },\n  data() {\n    return {\n      completed:false,\n      registState:'approving',\n      commitData:{\n        isSubDomain:false,\n        domainText:'',\n        topText:'',\n        costWei:'',\n        openApplied:true,\n        isCustomed:false,\n        years:1,\n      },\n      transactions:[],\n      ctrl:{\n        inprogress:false\n      },\n      tmpData:{\n        expire:0,//second\n        unitTS:365*24*60*60\n      },\n      dappState:{\n        chainId:'',\n        wallet:''\n      }\n    }\n  },\n  methods: {\n    addTxHashItem(hash,state){\n      this.transactions.push({\n        hash,state\n      })\n    },\n    updateTxHashItem(hash,state){\n      let idx = this.transactions.findIndex(el => el.hash === hash)\n      if(idx >= 0){\n        this.transactions.splice(idx,1,{hash,state})\n      }\n    },\n    goback(){\n      this.$router.go(-1)\n    },\n    goEtherscan(hash){\n      const web3State = this.$store.getters[\"web3State\"]\n      const chainId = web3State.chainId\n\n      const url = etherscanUrl(chainId,hash)\n      console.log(\"hash\",chainId,hash,url)\n\n      if(url){\n        window.open(url,`bas_${hash}`)\n      }\n    },\n    commitApprove(){\n      //\n      let web3State = this.$store.getters['dapp/web3State'];//getWeb3State()\n      let chainId = web3State.chainId;\n      let wallet = web3State.wallet;\n      let costWei = this.commitData.costWei+'';\n      console.log('CommitApprove',chainId,wallet,costWei)\n      approveToken4OannEmitter(costWei,chainId,wallet).on('transactionHash',(txhash)=>{\n        this.registState = 'approving'\n        this.ctrl.inprogress = true\n        this.addTxHashItem(txhash,'loading')\n      }).on('receipt',(receipt)=>{\n        let status = receipt.status;\n\n        this.updateTxHashItem(receipt.transactionHash,'success')\n        this.registState = 'confirming'\n      }).on('error',(err,receipt)=>{\n        console.error('Approve RPC',err)\n        this.registState = 'fail'\n        //4001\n        if(receipt){\n          this.updateTxHashItem(receipt.transactionHash,'fail')\n        }\n        this.ctrl.inprogress = false\n      }).catch(ex=>{\n        this.ctrl.inprogress = false\n        this.registState = 'fail'\n        if(ex.code === 4001){\n          let errMsg = this.$t(`code.${ex.code}`)\n          this.$message(this.$basTip.error(errMsg))\n        }else if(ex.code === -32601 && ex.message){\n          this.$message(this.$basTip.error(ex.message))\n        }\n      })\n    },\n    domainSendTransaction(){\n      let data = this.commitData\n      let that = this\n      const web3State = this.$store.getters['web3State']\n      console.log('domainSendTransaction>>>>>',this.commitData)\n\n      let expire = new Date().getTime()/1000 + parseInt(data.years)* this.tmpData.unitTS\n      this.tmpData.expire = expire\n      if(data.isSubDomain){\n        registSubEmitter({\n          topText:data.topText,\n          subText:data.domainText,\n          years:data.years,\n          chainId:data.chainId,\n          wallet:data.wallet\n        }).on('transactionHash',(txhash)=>{\n          that.addTxHashItem(txhash,'loading')\n        }).on('receipt',(receipt)=>{\n          console.log('Regist Sub Complete>>>>>',receipt)\n\n          console.log('Expire Tmp:',expire)\n          let status = receipt.status;\n          if(status){\n            that.registState = 'success'\n            this.ctrl.inprogress = false\n\n            that.updateTxHashItem(receipt.transactionHash,'success')\n            that.$store.dispatch('ewallet/syncEWalletAssets',web3State)\n            //that.$store.commit('updateLatestSubDomainsChanged',true)\n          }else{\n            that.registState = 'fail'\n            that.updateTxHashItem(receipt.transactionHash,'fail')\n          }\n          that.completed = true\n\n        }).on('error',(err,receipt)=>{\n          console.error('Confirm RPC Error',err)\n          that.registState = 'fail'\n          this.ctrl.inprogress = false\n          if(receipt){\n            that.updateTxHashItem(receipt.transactionHash,'fail')\n          }\n        }).catch(ex=>{\n          that.registState = 'fail'\n          this.ctrl.inprogress = false\n          if(ex.code === 4001){\n            let errMsg = that.$t(`code.${ex.code}`)\n            that.$message(that.$basTip.error(errMsg))\n          }else if(ex.code === -32601 && ex.message){\n            that.$message(that.$basTip.error(ex.message))\n          }else{\n            console.error(ex)\n          }\n        })\n      }else {//top\n\n        registRootEmitter(data).on('transactionHash',(txhash)=>{\n          that.addTxHashItem(txhash,'loading')\n        }).on('receipt',(receipt)=>{\n          console.log('Regist Sub Complete>>>>>',receipt)\n          let status = receipt.status;\n          this.ctrl.inprogress = false\n          if(status){\n            that.registState = 'success'\n            that.updateTxHashItem(receipt.transactionHash,'success')\n            setTimeout(() => {\n              that.$store.dispatch('ewallet/syncEWalletAssets',web3State)\n            }, 1000);\n\n            //that.$store.commit('updateLatestRootDomainsChanged',true)\n          }else{\n            that.registState = 'fail'\n            that.updateTxHashItem(receipt.transactionHash,'fail')\n          }\n          that.completed = true\n        }).on('error',(err,receipt)=>{\n          this.ctrl.inprogress = false\n          console.error(err)\n          that.registState = 'fail'\n          if(receipt){\n            that.updateTxHashItem(receipt.transactionHash,'fail')\n          }\n        }).catch(ex=>{\n          that.registState = 'fail'\n          if(ex.code === 4001){\n            let errMsg = that.$t(`code.${ex.code}`)\n            that.$message(that.$basTip.error(errMsg))\n          }else if(ex.code === -32601 && ex.message){\n            that.$message(that.$basTip.error(ex.message))\n          }else{\n            console.error(ex)\n          }\n        })\n      }\n    },\n    gotoUpdateDNS(){\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return\n      }\n      let fullDomain = this.commitData.domainText\n      if(this.commitData.isSubDomain){\n        fullDomain = `${this.commitData.domainText}.${this.commitData.topText}`\n      }\n\n      const data = this.commitData\n      if(fullDomain){\n        this.$router.push({\n          path:`/domain/updaterefdata/${fullDomain}`,\n          name:'domain.updaterefdata',\n          params:{\n            domaintext:fullDomain,\n            isRoot:!Boolean(data.isSubDomain),\n            openApplied:data.openApplied,\n            isCustomed:data.isCustomed,\n            customedPrice:data.customedPrice\n          }\n        })\n        // let customPrice = data.customPriceWei ? data.customPriceWei/10**18 : 4.00;\n        // let openApplied = data.openApplied\n        // let isCustomed = data.isCustomed\n        // if(this.commitData.isSubDomain){\n        //   this.$router.push({path:`/domain/dnsupdate/${fullDomain}/${this.tmpData.expire}`})\n        // }else{\n        //   let path = `/domain/dnsupdate/${fullDomain}/${this.tmpData.expire}/${openApplied}/${isCustomed}/${customPrice}`\n        //   this.$router.push({path:path})\n        // }\n      }\n\n\n    },\n    gotoWallet(){\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return;\n      }\n\n      //subasset,topasset\n      const activeTab = this.commitData.isSubDomain ? 'subasset' :'topasset'\n\n      this.$router.push({\n        name:'wallet.layout',\n        query:{\n          activeName:activeTab\n        }\n      })\n    },\n    continueRegist(){\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return;\n      }\n      if(this.commitData.isSubDomain) {\n        if(this.commitData.topText){\n          this.$router.push({\n            path:`/domain/applysub/${this.commitData.topText}`,\n          })\n        }\n      }else {\n        this.$router.push({\n          name:\"domain.applydomain\",\n          params:{\n            domainText:''\n          }\n        })\n      }\n    }\n  },\n  mounted() {\n    let commitData = this.$route.params.commitData;\n    this.commitData = Object.assign(this.commitData,commitData)\n    //this.commitData.isSubDomain = true\n    //this.commitData.topText = 'eth'\n    console.log(commitData)\n    if(this.commitData.domainText && this.commitData.costWei){\n      this.commitApprove()\n    }\n  },\n  watch: {\n    registState:function(val,old) {\n      if(old === 'approving' && val === 'confirming'){\n        this.domainSendTransaction()\n      }\n    }\n  },\n}\n</script>\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Domain/apply/RegistResult.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"background-fill-wrapper bas-gray-bg\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center align-items-center d-none\"},[_c('div',{staticClass:\"col-md-8 col-sm-10 pb-2\",staticStyle:{\"padding-left\":\"0\"}},[_c('button',{staticClass:\"bas-btn-goback\",attrs:{\"disabled\":_vm.ctrl.inprogress},on:{\"click\":_vm.goback}},[_c('span',{staticClass:\"text\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('l.GoBackPrevPage'))+\"\\n          \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"row justify-content-center align-items-center pt-3\"},[_c('el-card',{staticClass:\"col-md-8 col-sm-10 box-card \"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h4',[_vm._v(\"\\n            Transaction Hash\\n          \")])]),_vm._v(\" \"),_vm._l((_vm.transactions),function(item,index){return _c('div',{key:index,staticClass:\"text item bas-inline-between\"},[_c('div',{on:{\"click\":function($event){return _vm.goEtherscan(item.hash)}}},[_vm._v(_vm._s(item.hash))]),_vm._v(\" \"),(item.state === 'loading')?_c('div',[_c('loading-dot')],1):(item.state === 'success')?_c('div',[_c('i',{staticClass:\"fa fa-check bas-text-green\"})]):(item.state === 'fail')?_c('div',[_c('i',{staticClass:\"fa fa-close text-danger\"})]):_vm._e()])})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"row justify-content-center align-items-center mt-3\"},[_c('el-card',{staticClass:\"col-md-8 col-sm-10 box-card\"},[_c('div',{staticClass:\"domain-regist--result-container text-center\"},[_c('img',{staticClass:\"bas-bingo\",attrs:{\"src\":\"/static/icons/bingo.png\"}}),_vm._v(\" \"),(_vm.registState == 'approving')?_c('h6',{staticClass:\"bas-text-green mt-2\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('p.DomainRegistApprove'))+\"\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.registState == 'confirming')?_c('h6',{staticClass:\"bas-text-green mt-2\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('p.DomainRegistConfirm'))+\"\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.registState == 'fail')?_c('h6',{staticClass:\"text-danger mt-2\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('p.DomainRegistFail'))+\"\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.registState == 'success')?_c('h6',{staticClass:\"bas-text-green mt-2\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('p.DomainRegistSuccess'))+\"\\n          \")]):_vm._e(),_vm._v(\" \"),_c('h2',{staticStyle:{\"margin-top\":\".75rem\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.domainFullText)+\"\\n          \")]),_vm._v(\" \"),(_vm.registState == 'success')?_c('h6',{staticStyle:{\"color\":\"rgba(212,216,216,1)\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('p.DomainRegistSuccessTip'))+\"\\n          \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"w-100 bas-btn-group text-center\"},[_c('button',{staticClass:\"w-25 mx-2 btn bas-btn-green-border\",attrs:{\"disabled\":_vm.btnDisabled},on:{\"click\":_vm.gotoUpdateDNS}},[(_vm.btnDisabled)?_c('i',{staticClass:\"fa fa-ban\"}):_vm._e(),_vm._v(\"\\n            \"+_vm._s(_vm.$t('l.ConfigurationDNS'))+\"\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"w-25 mx-2 btn bas-btn-green-border\",attrs:{\"disabled\":_vm.btnDisabled},on:{\"click\":_vm.gotoWallet}},[(!_vm.completed)?_c('i',{staticClass:\"fa fa-ban\"}):_vm._e(),_vm._v(\"\\n            \"+_vm._s(_vm.$t('l.GtotoMyWallet'))+\"\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"w-25 mx-2 btn\",class:_vm.btnDisabled ? '' : 'bas-btn-primary',attrs:{\"disabled\":_vm.btnDisabled},on:{\"click\":_vm.continueRegist}},[(!_vm.completed)?_c('i',{staticClass:\"fa fa-ban\"}):_vm._e(),_vm._v(\"\\n             \"+_vm._s(_vm.$t('l.ApplyAgain'))+\"\\n          \")])])])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34108422\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Domain/apply/RegistResult.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34108422\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RegistResult.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RegistResult.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RegistResult.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34108422\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RegistResult.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Domain/apply/RegistResult.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}