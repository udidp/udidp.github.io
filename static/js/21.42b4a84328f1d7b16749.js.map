{"version":3,"sources":["webpack:///src/views/Mail/MailRegistIndex.vue","webpack:///./src/views/Mail/MailRegistIndex.vue?a827","webpack:///./src/views/Mail/MailRegistIndex.vue"],"names":["MailRegistIndex","name","components","CircleLoading","computed","extends_default","toggleIconClass","this","mailPoper","visible","showMailtext","mailDomainHash","mailDomainText","showErrors","Boolean","inputctrl","message","domainMails","key","filterkey","mailassets","filter","m","domaintext","includes","trim","Vuex","mapState","unitBas","state","Object","utils","dapp","mailRegGas","maxMailRegYears","data","years","mailName","mailAlias","loading","ctrl","timeoutId","closeable","timeout","methods","selectYearsHandle","mailPoperToggle","reloadMailAssets","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$store","dispatch","stop","hideMailAssetPoper","SelectedMailDomainHandle","text","hash","loadPublicMailDomainOnMount","_this2","_callee2","_context2","length","setCloseableFalse","submitMailName","_this3","_callee3","web3State","chainId","wallet","domainhash","msg","validMsg","commitData","_context3","getters","$metamask","abrupt","$message","$basTip","error","$t","biz_validator","api_errors","mailname","mail_manager_api","sent","mailalias","mailhash","$router","push","path","params","t0","t1","code","beforeMount","_this4","_callee4","_context4","mounted","_this5","_callee6","_context6","setTimeout","_callee5","_context5","watch","val","old","_this6","that","fulltext","clearTimeout","_callee7","resp","_context7","view_api","mail","abandoned","_this7","mailtext","_callee8","_context8","mails","olds","ctrl.loading","handler","_this8","ts","immediate","Mail_MailRegistIndex","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","_s","attrs","label-position","label-width","show-message","placeholder","type","model","value","callback","$$v","expression","slot","on","click","class","_e","staticStyle","font-size","padding","_l","index","$event","disabled","$set","label","idx","parseFloat","width","close-on-click-modal","show-close","before-close","top","update:visible","size","staticRenderFns","src","height","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.42b4a84328f1d7b16749.js","sourcesContent":["<template>\n  <div class=\"mail-regist-wrapper\">\n    <div class=\"container inner-center-container\">\n      <div class=\"row justify-content-center pt-5 pb-5\">\n        <div class=\"bmail-box-auto mail-content-card\">\n          <div class=\"header-logo\">\n            <img src=\"/static/icons/logo_header_blk.png\" class=\"img-fluid\" />\n          </div>\n          <div class=\"header-title\">\n            <h5 class=\"mail-regist-title\">\n              {{ $t(\"l.ApplyMailNameLabel\") }}\n            </h5>\n          </div>\n\n          <div class=\"mail-regist-form-wrapper\">\n            <el-form\n              label-position=\"top\"\n              label-width=\"120px\"\n              class=\"mail-regist-form\"\n            >\n              <!-- 输入 -->\n              <div class=\"mail-input-container\">\n                <el-form-item class=\"w-100\" show-message=\"false\">\n                  <div class=\"bas-mail-apply\">\n                    <el-input\n                      class=\"mail-input\"\n                      v-model=\"mailName\"\n                      :placeholder=\"$t('p.MailRegistInputPlaceholder')\"\n                      type=\"text\"\n                    >\n                    </el-input>\n                    <div slot=\"suffix\" class=\"mail-domain--suffix-wrapper\">\n                      <div class=\"mail-domaintext-show\">\n                        <span>{{ showMailtext }}</span>\n                      </div>\n                      <div class=\"mail-toggle-icon\" @click=\"mailPoperToggle\">\n                        <i class=\"fa\" :class=\"toggleIconClass\"></i>\n                      </div>\n                    </div>\n                  </div>\n                </el-form-item>\n                <div v-if=\"mailPoper.visible\" class=\"mail-domain--poper\">\n                  <div class=\"row row-container\">\n                    <div\n                      v-if=\"!Boolean(domainMails) || !domainMails.length\"\n                      style=\"font-size: 14px; padding: 0.25rem 0.5rem\"\n                    >\n                      <span>{{ $t(\"p.DomainSearchNoResultTip\") }}</span>\n                    </div>\n                    <div\n                      v-for=\"(m, index) in domainMails\"\n                      @click=\"SelectedMailDomainHandle(m.domaintext, m.hash)\"\n                      :key=\"index\"\n                      class=\"bas-col-20\"\n                    >\n                      <p class=\"mailtext\">{{ \"@\" + m.domaintext }}</p>\n                    </div>\n                  </div>\n                  <hr />\n                  <!-- mail domain footbar -->\n                  <div class=\"mail-domain--poper-footbar\">\n                    <el-input\n                      v-model=\"mailPoper.filterkey\"\n                      :placeholder=\"$t('p.MailPublicFilterKeyTips')\"\n                      :disabled=\"mailPoper.loading\"\n                      class=\"sub-filter-input\"\n                    >\n                      <div slot=\"suffix\" class=\"mail-search\">\n                        <i class=\"fa fa-search\"></i>\n                      </div>\n                    </el-input>\n                    <el-button\n                      :disabled=\"mailPoper.loading\"\n                      @click=\"reloadMailAssets\"\n                      type=\"default\"\n                      class=\"border-right\"\n                    >\n                      {{ $t(\"g.Refresh\") }}\n                    </el-button>\n                    <div></div>\n                    <el-button @click=\"hideMailAssetPoper\" type=\"default\">\n                      {{ $t(\"l.ChevronUp\") }}\n                    </el-button>\n                  </div>\n                </div>\n                <div\n                  class=\"mailname-wrapper\"\n                  :class=\"\n                    Boolean(inputctrl.message)\n                      ? 'bas-warn-box'\n                      : 'bas-grass-box'\n                  \"\n                  v-if=\"Boolean(inputctrl.message) || Boolean(mailName)\"\n                >\n                  <div>\n                    {{\n                      inputctrl.message\n                        ? inputctrl.message\n                        : $t(\"p.MailRegistNameWarnTip\")\n                    }}\n                  </div>\n                </div>\n              </div>\n              <!-- 别名 -->\n              <el-form-item :label=\"$t('l.MailAlias')\">\n                <el-input\n                  v-model=\"mailAlias\"\n                  :placeholder=\"$t('p.MailRegistAliasPlaceholder')\"\n                  class=\"mail-alias\"\n                >\n                </el-input>\n              </el-form-item>\n              <!-- 购买期限 -->\n              <div class=\"purchase-label-wrapper pt-1 pb-1\">\n                <div class=\"bmail-form-label\">{{ $t(\"l.PurchaseYears\") }}</div>\n              </div>\n              <div class=\"years-select-container\">\n                <div\n                  v-for=\"idx in maxMailRegYears\"\n                  :key=\"idx\"\n                  class=\"bmail-year-selector\"\n                >\n                  <div class=\"selector-wrapper\">\n                    <div\n                      class=\"year-inner-box\"\n                      @click=\"selectYearsHandle(idx)\"\n                      :class=\"idx == years ? 'year-active' : ''\"\n                    >\n                      <div v-if=\"idx == years\">\n                        <div class=\"year-active-icon\"></div>\n                      </div>\n                      <div class=\"bas-total\">\n                        {{ idx * parseFloat(unitBas) }}\n                      </div>\n                      <div class=\"mail-years\">\n                        <span>{{ idx }}</span>\n                        <span>{{\n                          idx === 1 ? $t(\"l.Year\") : $t(\"l.Years\")\n                        }}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </el-form>\n          </div>\n\n          <div class=\"mail-regist-btns\">\n            <el-button\n              type=\"primary\"\n              @click=\"submitMailName\"\n              class=\"bas-btn-primary w-100\"\n            >\n              {{ $t(\"l.RegistBtn\") }}\n            </el-button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div style=\"height: 1.5rem\"></div>\n    </div>\n    <el-dialog\n      width=\"320px\"\n      :close-on-click-modal=\"false\"\n      :show-close=\"ctrl.closeable\"\n      :before-close=\"setCloseableFalse\"\n      :visible.sync=\"ctrl.loading\"\n      top=\"35vh\"\n      class=\"bas-dialog-nobody\"\n    >\n      <div slot=\"title\" class=\"bas-wrapper--valid\">\n        <div class=\"logo-container\">\n          <CircleLoading></CircleLoading>\n        </div>\n        <div class=\"bas-dialog-content\">\n          <span class=\"tip-prefix\">\n            {{ $t(\"g.ValidateOnBlockChain\") }}\n          </span>\n          <span class=\"tip-green\"> {{ mailName }}{{ showMailtext }} </span>\n        </div>\n        <div v-if=\"Boolean(ctrl.closeable)\">\n          <p class=\"small\">\n            {{ $t(\"g.RequestTimeoutOverTip\", { ts: ctrl.timeout }) }}\n          </p>\n        </div>\n        <div v-if=\"Boolean(ctrl.closeable)\" class=\"text-center\">\n          <el-button @click=\"setCloseableFalse\" size=\"mini\" class=\"w-25\">\n            {{ $t(\"l.Cancel\") }}\n          </el-button>\n        </div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<style>\nhr {\n  width: 96%;\n  margin: 8px 2px 7px 7px;\n  color: rgba(235, 237, 237, 1);\n}\n.border-right {\n  border-right: solid #ebeded 1px;\n}\n.mail-search > i {\n  margin-top: 8px;\n}\n.mail-search {\n  height: 100%;\n  width: 35px;\n  margin-right: 4px;\n}\n.bas-mail-apply,\n.mail-alias {\n  display: flex;\n  width: 100%;\n  height: 50px;\n  background: rgba(245, 246, 246, 1);\n  border-radius: 4px;\n  border: 1px solid rgba(225, 229, 229, 0.5);\n}\n.mail-regist-btns {\n  margin-top: 24px;\n}\n.mail-regist-form-wrapper .el-form-item__content {\n  height: 50px;\n}\n.bas-label2 {\n  font-size: 18px;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: rgba(4, 6, 46, 1);\n  line-height: 50px;\n  padding-bottom: 0px !important;\n}\n\n.mailname-wrapper {\n  margin: 0.5rem auto;\n  padding: 0.5rem 0.75rem;\n  width: 100%;\n  border-radius: 4px;\n}\n\n.mailname-wrapper div {\n  font-size: 14px;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  line-height: 20px;\n}\n\n.mail-domain--suffix-wrapper {\n  position: relative;\n  width: 26%;\n  height: 50px;\n  display: inline-flex;\n  direction: row;\n  justify-content: flex-end;\n  align-items: center;\n  padding-left: 2%;\n  padding-right: 2%;\n  border-left: 1px solid rgba(225, 229, 229, 0.5);\n}\n.mail-input {\n  width: 74%;\n}\n.mail-alias > .el-input__inner,\n.mail-input > .el-input__inner {\n  width: 100%;\n  height: 100%;\n  background: rgba(245, 246, 246, 1);\n  border: 0px;\n  padding-left: 10px;\n  font-size: 16px;\n  font-family: PingFangSC-Light, PingFang SC;\n  font-weight: 300;\n  /* color:rgba(4,6,46,1); */\n}\n.mail-domaintext-show {\n  margin-right: 0.25rem;\n  font-size: 18px;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: rgba(4, 6, 46, 1);\n  line-height: 25px;\n}\n.mail-input i.fa {\n  cursor: pointer;\n  color: rgba(4, 6, 46, 0.75);\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.mail-input input.el-input__inner {\n  color: rgba(4, 6, 46, 0.75);\n\n  font-size: 16px;\n}\n\n.mail-domain--poper-footbar > .el-button:focus,\n.mail-domain--poper-footbar > .el-button:hover {\n  color: #0080ff;\n  border-color: rgba(0, 202, 155, 0.1);\n  background-color: rgba(0, 202, 155, 0.1);\n}\n.mail-domain--poper-footbar > .el-input--suffix .el-input__inner {\n  height: 31px;\n  margin-left: 7px;\n  width: 95%;\n  background: rgba(245, 246, 246, 1);\n}\n.mail-domain--poper-footbar > .el-button {\n  height: 31px;\n  margin-right: 2px;\n  margin-left: 2px;\n  padding: 0px 10px;\n\n  border: 0px;\n  font-size: 16px;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: rgba(150, 150, 166, 1);\n  line-height: 22px;\n  /* background:rgba(0,202,155,0.1); */\n  border-radius: 2px;\n  /* opacity:0.1; */\n}\n.mail-regist-form input.el-input__inner {\n  height: 100%;\n  caret-color: rgba(0, 202, 155, 1);\n}\n.bas-mail-apply:hover,\n.bas-mail-apply:focus,\n.mail-alias:hover,\n.mail-alias:focus {\n  border: 1px solid rgba(0, 202, 155, 1);\n}\n.mail-alias > .el-input__inner:focus,\n.mail-alias > .el-input__inner:hover {\n  border: 0px;\n}\n\n.mail-input input.el-input__inner::-webkit-input-placeholder,\n.mail-input input.el-input__inner::-moz-placeholder,\n.mail-input input.el-input__inner:-ms-input-placeholder {\n  font-size: 14px;\n}\n\n.mail-domain--poper {\n  width: 100%;\n  z-index: 9999;\n  background: #fff;\n  border-collapse: collapse;\n  color: rgba(4, 6, 46, 1);\n  box-shadow: 0 1px 14px 0 rgba(0, 0, 0, 0.1);\n  box-sizing: border-box;\n  transition: ease-in-out 0.3s;\n}\n\n.row-container {\n  margin: 0;\n  max-height: 202px;\n  min-height: 32px;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.mail-domain--poper-footbar > .sub-filter-input {\n  width: 72%;\n}\n\n.sub-filter-input span.el-input__suffix div {\n  cursor: pointer;\n  line-height: 28px;\n}\n\n.mail-domain--poper div.bas-col-20 {\n  cursor: pointer;\n  width: 20%;\n  height: 50px;\n  /* margin-right:-1px; */\n  margin-bottom: -1px;\n  background: rgba(255, 255, 255, 1);\n  text-align: center;\n  transition: ease-in-out 0.2s;\n  font-weight: 400;\n}\n\n.mail-domain--poper div.bas-col-20 > p:hover {\n  color: rgba(255, 255, 255, 1);\n  background: rgba(0, 202, 155, 1);\n}\n\n.bas-col-20 > p {\n  border: 1px solid rgba(235, 237, 237, 1);\n  height: 35px;\n  border-radius: 4px;\n  width: 85%;\n  text-align: center;\n  line-height: 35px;\n  margin: 10px 0px 0px 8px;\n}\n.mail-domain--poper-footbar {\n  width: 100%;\n  height: 35px;\n  display: inline-flex;\n  justify-content: space-between;\n  border-collapse: collapse;\n  margin: 1px;\n  padding-right: 4px;\n}\n</style>\n<script>\nimport \"./assets/mail-regist.css\";\nimport { dateFormat, wei2Bas, handleDomain, toUnicodeDomain } from \"@/utils\";\n\nimport { validPrevRegistMail } from \"@/web3-lib/apis/mail-manager-api\";\nimport {\n  PARAM_ILLEGAL,\n  USER_REJECTED_REQUEST,\n  UNSUPPORT_NETWORK,\n  DOMAIN_NOT_EXIST,\n  MAILSERVICE_INACTIVED,\n  MAIL_REGIST_BY_OWNER,\n  MAIL_HASH_EXIST,\n  MAIL_YEAR_OVER_MAX,\n  LACK_OF_TOKEN,\n  NetworkRequestFail,\n  MAIL_HASH_ABANDONED,\n  MAIL_NAME_ILLEGAL,\n} from \"@/web3-lib/api-errors\";\n\nimport { findMailInfo } from \"@/web3-lib/apis/view-api\";\nimport CircleLoading from \"@/components/CircleLoading.vue\";\nimport { BMailAccountIllegal } from \"@/web3-lib/utils/biz-validator\";\n\nexport default {\n  name: \"MailRegistIndex\",\n  components: {\n    CircleLoading,\n  },\n  computed: {\n    toggleIconClass() {\n      return this.mailPoper.visible ? \"fa-chevron-up\" : \"fa-chevron-down\";\n    },\n    showMailtext() {\n      if (this.mailDomainHash === \"\" || this.mailDomainText === null) return \"\";\n      return `@${this.mailDomainText}`;\n    },\n    showErrors() {\n      return Boolean(this.inputctrl.message);\n    },\n    domainMails() {\n      const key = this.mailPoper.filterkey;\n      return key\n        ? this.mailassets.filter((m) => m.domaintext.includes(key.trim()))\n        : this.mailassets;\n    },\n    ...Vuex.mapState({\n      unitBas: (state) => wei2Bas(state.dapp.mailRegGas || 2),\n      maxMailRegYears: (state) => state.dapp.maxMailRegYears,\n      mailassets: (state) =>\n        state.dapp.mailassets ? state.dapp.mailassets : [],\n    }),\n  },\n  data() {\n    return {\n      years: 1,\n      mailDomainText: \"\",\n      mailDomainHash: \"\",\n      mailName: \"\",\n      mailAlias: \"\",\n      mailPoper: {\n        visible: false,\n        loading: false,\n        filterkey: \"\",\n      },\n      inputctrl: {\n        message: \"\",\n      },\n      ctrl: {\n        loading: false,\n        timeoutId: null,\n        closeable: false,\n        timeout: 15,\n      },\n    };\n  },\n  methods: {\n    selectYearsHandle(years) {\n      //console.log('<>>>>>',years)\n      this.years =\n        years <= 0 || years > this.maxMailRegYears\n          ? this.maxMailRegYears\n          : years;\n    },\n    mailPoperToggle() {\n      this.mailPoper.visible = !this.mailPoper.visible;\n    },\n    async reloadMailAssets() {\n      this.mailPoper.loading = true;\n      await this.$store.dispatch(\"dapp/loadPublicMailDomains\");\n      this.mailPoper.loading = false;\n    },\n    hideMailAssetPoper() {\n      this.mailPoper.visible = false;\n    },\n    SelectedMailDomainHandle(text, hash) {\n      this.mailDomainText = text;\n      this.mailDomainHash = hash;\n      this.mailPoper.visible = false;\n    },\n    async loadPublicMailDomainOnMount() {\n      const mailassets = this.$store.state.dapp.mailassets;\n\n      if (mailassets && mailassets.length) {\n        this.mailDomainText = mailassets[0].domaintext;\n        this.mailDomainHash = mailassets[0].hash;\n      }\n    },\n    setCloseableFalse() {\n      this.ctrl.closeable = false;\n      this.ctrl.loading = false;\n    },\n    async submitMailName() {\n      if (this.$store.getters[\"metaMaskDisabled\"]) {\n        this.$metamask();\n        return;\n      }\n      if (this.inputctrl.message) {\n        this.$message(this.$basTip.error(this.inputctrl.message));\n        return;\n      }\n\n      const web3State = this.$store.getters[\"web3State\"];\n      const chainId = web3State.chainId;\n      const wallet = web3State.wallet;\n      const domaintext = this.mailDomainText;\n      const domainhash = this.mailDomainHash;\n      const mailName = this.mailName;\n      const mailAlias = this.mailAlias;\n\n      let msg = \"\";\n      if (mailName === \"\" || !mailName.trim().length || !domainhash) {\n        msg = this.$t(\"code.888888\", { text: this.$t(\"l.ApplyMailNameLabel\") });\n        this.$message(this.$basTip.error(msg));\n        return;\n      }\n\n      if (BMailAccountIllegal(mailName)) {\n        const validMsg = this.$t(`code.${MAIL_NAME_ILLEGAL}`, {\n          mailname: mailName,\n        });\n        //this.inputctrl.message = validMsg\n        this.$message(this.$basTip.error(validMsg));\n        return;\n      }\n\n      const years = this.years;\n\n      console.log(domaintext, domainhash, mailName, years);\n      try {\n        this.ctrl.loading = true;\n\n        /**\n         * return :{domaintext,mailalias,years,chainId,wallet,domainhash,mailhash,costwei,basbal,}\n         */\n        const commitData = await validPrevRegistMail(\n          domainhash,\n          mailName,\n          years,\n          chainId,\n          wallet\n        );\n\n        commitData.mailalias = mailAlias;\n        const mailhash = commitData.mailhash;\n\n        //return\n        // route commit page\n        this.ctrl.loading = false;\n        this.$router.push({\n          path: `/mail/registing/${domaintext}/${years}/${mailName}`,\n          name: \"mail.registing\",\n          params: {\n            domaintext,\n            years,\n            mailname: mailName,\n            commitData: commitData,\n          },\n        });\n\n        //const mailalias = commitData.mailalias\n      } catch (ex) {\n        this.ctrl.loading = false;\n        switch (ex) {\n          case UNSUPPORT_NETWORK:\n          case LACK_OF_TOKEN:\n            msg = this.$t(`code.${ex}`);\n            this.$message(this.$basTip.error(msg));\n            return;\n          case MAIL_HASH_EXIST:\n            msg = this.$t(`code.${ex}`, { mailname: mailName });\n            this.$message(this.$basTip.error(msg));\n            return;\n          case MAIL_REGIST_BY_OWNER:\n            msg = this.$t(`code.${ex}`, { domaintext });\n            this.$message(this.$basTip.error(msg));\n            return;\n          case PARAM_ILLEGAL:\n          case MAILSERVICE_INACTIVED:\n          case DOMAIN_NOT_EXIST:\n          case MAIL_YEAR_OVER_MAX:\n          case PARAM_ILLEGAL:\n            console.log(\"Coding Logic Error:\", ex);\n            return;\n          default:\n            break;\n        }\n        if (ex.code === USER_REJECTED_REQUEST) {\n          msg = this.$t(`code.${ex.code}`);\n          this.$message(this.$basTip.error(msg));\n          return;\n        } else if (ex.message.includes(NetworkRequestFail)) {\n          msg = this.$t(`code.-32603`);\n          this.$message(this.$basTip.error(msg));\n          return;\n        }\n        console.error(\"Unknown Error:\", ex);\n      }\n    },\n  },\n  async beforeMount() {\n    await this.$store.dispatch(\"dapp/fillPublicMailDomains\"); //\n    const mailassets = this.$store.state.dapp.mailassets;\n\n    if (mailassets && mailassets.length) {\n      this.mailDomainText = mailassets[0].domaintext;\n      this.mailDomainHash = mailassets[0].hash;\n    }\n  },\n  async mounted() {\n    //load public mail assets\n\n    setTimeout(async () => {\n      console.log(\"pull open mails\");\n      this.loadPublicMailDomainOnMount();\n    }, 500);\n  },\n  watch: {\n    mailName: function (val, old) {\n      const that = this;\n      if (val !== \"\" && val !== old) {\n        const fulltext = `${val.trim()}@${this.mailDomainText}`;\n        const chainId = this.$store.getters[\"web3State\"].chainId;\n\n        console.log(fulltext);\n        if (this.ctrl.timeoutId) {\n          clearTimeout(this.ctrl.timeoutId);\n        }\n\n        this.ctrl.timeoutId = setTimeout(async () => {\n          console.log(\"TimeoutId:\", that.ctrl.timeoutId, fulltext);\n          try {\n            const resp = await findMailInfo(fulltext, chainId);\n            console.log(resp);\n            if (resp.state) {\n              console.log(resp.mail);\n              if (resp.mail.abandoned) {\n                //MAIL_HASH_INVALID\n                that.inputctrl.message = that.$t(\n                  `code.${MAIL_HASH_ABANDONED}`,\n                  { text: fulltext }\n                );\n              } else {\n                that.inputctrl.message = that.$t(`code.${MAIL_HASH_EXIST}`, {\n                  text: fulltext,\n                });\n              }\n            } else {\n              that.inputctrl.message = \"\";\n            }\n          } catch (ex) {\n            console.log(\"lazy valid\", ex);\n            that.inputctrl.message = \"\";\n          }\n        }, 1500);\n      } else {\n        this.inputctrl.message = \"\";\n      }\n    },\n    mailDomainText: function (val, old) {\n      const mailtext = this.mailName;\n      if (val !== \"\" && val !== old && mailtext !== \"\") {\n        const fulltext = `${mailtext.trim()}@${val}`;\n        const chainId = this.$store.getters[\"web3State\"].chainId;\n        console.log(fulltext);\n        if (this.ctrl.timeoutId) {\n          clearTimeout(this.ctrl.timeoutId);\n        }\n        const that = this;\n        this.ctrl.timeoutId = setTimeout(async () => {\n          console.log(\"TimeoutId:\", that.ctrl.timeoutId, fulltext);\n          try {\n            const resp = await findMailInfo(fulltext, chainId);\n            if (resp.state) {\n              if (resp.mail.abandoned) {\n                //MAIL_HASH_INVALID\n                that.inputctrl.message = that.$t(\n                  `code.${MAIL_HASH_ABANDONED}`,\n                  { text: fulltext }\n                );\n              } else {\n                that.inputctrl.message = that.$t(`code.${MAIL_HASH_EXIST}`, {\n                  text: fulltext,\n                });\n              }\n            } else {\n              that.inputctrl.message = \"\";\n            }\n          } catch (ex) {\n            console.log(\"lazy valid\", ex);\n            that.inputctrl.message = \"\";\n          }\n        }, 500);\n      } else {\n        this.inputctrl.message = \"\";\n      }\n    },\n    mailassets: function (mails, olds) {\n      if (mails && mails.length) {\n        this.mailDomainText = mails[0].domaintext;\n        this.mailDomainHash = mails[0].hash;\n      }\n    },\n    \"ctrl.loading\": {\n      handler(val, old) {\n        if (val && !old) {\n          console.log(new Date().getTime() / 1000);\n          const ts = this.ctrl.timeout * 1000;\n          setTimeout(() => {\n            this.ctrl.closeable = true;\n          }, ts);\n        }\n      },\n      immediate: true,\n    },\n  },\n};\n</script>\n<style>\n.el-input.is-active .el-input__inner,\n.el-input__inner:focus {\n  border-color: rgba(4, 6, 46, 0.35);\n  border-top-color: rgba(4, 6, 46, 0.35);\n  border-right-color: rgba(4, 6, 46, 0.35);\n  border-bottom-color: rgba(4, 6, 46, 0.35);\n  border-left-color: rgba(4, 6, 46, 0.35);\n}\n.mail-regist-wrapper {\n  background-color: rgba(255, 255, 255, 1);\n  min-height: calc(100vh - 425px);\n  width: 100%;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  direction: column;\n}\n\n.mail-content-card {\n  display: inline-flexbox;\n  direction: column;\n  justify-content: flex-start;\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n  align-items: stretch;\n  border-radius: 4px;\n  border: 2px solid rgba(225, 229, 229, 1);\n}\n\n.mail-content-card > div {\n  margin-left: 1.5rem;\n  margin-right: 1.5rem;\n}\n\n.mail-regist-title {\n  line-height: 30px;\n  font-size: 22px;\n  margin: 1.5rem auto;\n  width: 100%;\n  text-align: left;\n}\n\n/* .years-select-container {\n  width: 100%;\n  display: inline-flex;\n  direction: row;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.mail-year-selector div.bas-total {\n  font-size:20px;\n  font-family:Lato-Semibold,Lato;\n  font-weight:600;\n  color:rgba(4,6,46,1);\n  line-height:24px;\n  letter-spacing:1px;\n}\n\n.mail-year-selector div.bas-total::after{\n  content:'BAS';\n  font-size: 14px;\n  margin-left: -.4rem;\n}\n\n.mail-years {\n  font-size:1rem;\n} */\n\n/* .mail-year-selector .year-active div.bas-total{\n  color:#fff;\n} */\n\n/* .years-select-container div.mail-year-selector{\n  width: 25%;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 8px;\n} */\n\n/* .year-inner-box {\n  cursor: pointer;\n  position: relative;\n  width: 100%;\n  height: 62px;\n  padding: 7px;\n  display: inline-flexbox;\n  justify-content: center;\n  align-items: center;\n  color:rgba(4,6,46,1);\n  background:rgba(245,246,246,1);\n  border-radius:4px;\n  border:1px solid rgba(245,246,246,1);\n}\n\n.year-active-icon {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  float:right;\n  top: 0px;\n  right: 0px;\n  background: url('./assets/years-select.png') no-repeat;\n  background-size: 100% 100%;\n  z-index: 99;\n}\n\n.years-select-container div.year-active {\n  color:#fff;\n  background:rgba(0,202,155,1);\n  border-radius:4px;\n  border:1px solid rgba(245,246,246,1);\n}\n\n.years-select-container div.year-active:focus ,.years-select-container div.year-active:hover{\n  opacity: .85;\n}\n\n.year-inner-box>div{\n  width: 100%;\n  text-align: center;\n} */\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Mail/MailRegistIndex.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mail-regist-wrapper\"},[_c('div',{staticClass:\"container inner-center-container\"},[_c('div',{staticClass:\"row justify-content-center pt-5 pb-5\"},[_c('div',{staticClass:\"bmail-box-auto mail-content-card\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"header-title\"},[_c('h5',{staticClass:\"mail-regist-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t(\"l.ApplyMailNameLabel\"))+\"\\n          \")])]),_vm._v(\" \"),_c('div',{staticClass:\"mail-regist-form-wrapper\"},[_c('el-form',{staticClass:\"mail-regist-form\",attrs:{\"label-position\":\"top\",\"label-width\":\"120px\"}},[_c('div',{staticClass:\"mail-input-container\"},[_c('el-form-item',{staticClass:\"w-100\",attrs:{\"show-message\":\"false\"}},[_c('div',{staticClass:\"bas-mail-apply\"},[_c('el-input',{staticClass:\"mail-input\",attrs:{\"placeholder\":_vm.$t('p.MailRegistInputPlaceholder'),\"type\":\"text\"},model:{value:(_vm.mailName),callback:function ($$v) {_vm.mailName=$$v},expression:\"mailName\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mail-domain--suffix-wrapper\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_c('div',{staticClass:\"mail-domaintext-show\"},[_c('span',[_vm._v(_vm._s(_vm.showMailtext))])]),_vm._v(\" \"),_c('div',{staticClass:\"mail-toggle-icon\",on:{\"click\":_vm.mailPoperToggle}},[_c('i',{staticClass:\"fa\",class:_vm.toggleIconClass})])])],1)]),_vm._v(\" \"),(_vm.mailPoper.visible)?_c('div',{staticClass:\"mail-domain--poper\"},[_c('div',{staticClass:\"row row-container\"},[(!Boolean(_vm.domainMails) || !_vm.domainMails.length)?_c('div',{staticStyle:{\"font-size\":\"14px\",\"padding\":\"0.25rem 0.5rem\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"p.DomainSearchNoResultTip\")))])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.domainMails),function(m,index){return _c('div',{key:index,staticClass:\"bas-col-20\",on:{\"click\":function($event){return _vm.SelectedMailDomainHandle(m.domaintext, m.hash)}}},[_c('p',{staticClass:\"mailtext\"},[_vm._v(_vm._s(\"@\" + m.domaintext))])])})],2),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"mail-domain--poper-footbar\"},[_c('el-input',{staticClass:\"sub-filter-input\",attrs:{\"placeholder\":_vm.$t('p.MailPublicFilterKeyTips'),\"disabled\":_vm.mailPoper.loading},model:{value:(_vm.mailPoper.filterkey),callback:function ($$v) {_vm.$set(_vm.mailPoper, \"filterkey\", $$v)},expression:\"mailPoper.filterkey\"}},[_c('div',{staticClass:\"mail-search\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_c('i',{staticClass:\"fa fa-search\"})])]),_vm._v(\" \"),_c('el-button',{staticClass:\"border-right\",attrs:{\"disabled\":_vm.mailPoper.loading,\"type\":\"default\"},on:{\"click\":_vm.reloadMailAssets}},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t(\"g.Refresh\"))+\"\\n                  \")]),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"default\"},on:{\"click\":_vm.hideMailAssetPoper}},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t(\"l.ChevronUp\"))+\"\\n                  \")])],1)]):_vm._e(),_vm._v(\" \"),(Boolean(_vm.inputctrl.message) || Boolean(_vm.mailName))?_c('div',{staticClass:\"mailname-wrapper\",class:Boolean(_vm.inputctrl.message)\n                    ? 'bas-warn-box'\n                    : 'bas-grass-box'},[_c('div',[_vm._v(\"\\n                  \"+_vm._s(_vm.inputctrl.message\n                      ? _vm.inputctrl.message\n                      : _vm.$t(\"p.MailRegistNameWarnTip\"))+\"\\n                \")])]):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('l.MailAlias')}},[_c('el-input',{staticClass:\"mail-alias\",attrs:{\"placeholder\":_vm.$t('p.MailRegistAliasPlaceholder')},model:{value:(_vm.mailAlias),callback:function ($$v) {_vm.mailAlias=$$v},expression:\"mailAlias\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"purchase-label-wrapper pt-1 pb-1\"},[_c('div',{staticClass:\"bmail-form-label\"},[_vm._v(_vm._s(_vm.$t(\"l.PurchaseYears\")))])]),_vm._v(\" \"),_c('div',{staticClass:\"years-select-container\"},_vm._l((_vm.maxMailRegYears),function(idx){return _c('div',{key:idx,staticClass:\"bmail-year-selector\"},[_c('div',{staticClass:\"selector-wrapper\"},[_c('div',{staticClass:\"year-inner-box\",class:idx == _vm.years ? 'year-active' : '',on:{\"click\":function($event){return _vm.selectYearsHandle(idx)}}},[(idx == _vm.years)?_c('div',[_c('div',{staticClass:\"year-active-icon\"})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bas-total\"},[_vm._v(\"\\n                      \"+_vm._s(idx * parseFloat(_vm.unitBas))+\"\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"mail-years\"},[_c('span',[_vm._v(_vm._s(idx))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(idx === 1 ? _vm.$t(\"l.Year\") : _vm.$t(\"l.Years\")))])])])])])}),0)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"mail-regist-btns\"},[_c('el-button',{staticClass:\"bas-btn-primary w-100\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitMailName}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t(\"l.RegistBtn\"))+\"\\n          \")])],1)])])]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"bas-dialog-nobody\",attrs:{\"width\":\"320px\",\"close-on-click-modal\":false,\"show-close\":_vm.ctrl.closeable,\"before-close\":_vm.setCloseableFalse,\"visible\":_vm.ctrl.loading,\"top\":\"35vh\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.ctrl, \"loading\", $event)}}},[_c('div',{staticClass:\"bas-wrapper--valid\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"logo-container\"},[_c('CircleLoading')],1),_vm._v(\" \"),_c('div',{staticClass:\"bas-dialog-content\"},[_c('span',{staticClass:\"tip-prefix\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"g.ValidateOnBlockChain\"))+\"\\n        \")]),_vm._v(\" \"),_c('span',{staticClass:\"tip-green\"},[_vm._v(\" \"+_vm._s(_vm.mailName)+_vm._s(_vm.showMailtext)+\" \")])]),_vm._v(\" \"),(Boolean(_vm.ctrl.closeable))?_c('div',[_c('p',{staticClass:\"small\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"g.RequestTimeoutOverTip\", { ts: _vm.ctrl.timeout }))+\"\\n        \")])]):_vm._e(),_vm._v(\" \"),(Boolean(_vm.ctrl.closeable))?_c('div',{staticClass:\"text-center\"},[_c('el-button',{staticClass:\"w-25\",attrs:{\"size\":\"mini\"},on:{\"click\":_vm.setCloseableFalse}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t(\"l.Cancel\"))+\"\\n        \")])],1):_vm._e()])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-logo\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":\"/static/icons/logo_header_blk.png\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticStyle:{\"height\":\"1.5rem\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35734e42\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Mail/MailRegistIndex.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35734e42\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MailRegistIndex.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35734e42\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./MailRegistIndex.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MailRegistIndex.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MailRegistIndex.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35734e42\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MailRegistIndex.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Mail/MailRegistIndex.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}