{"version":3,"sources":["webpack:///src/views/Market_/search/Result.vue","webpack:///./src/views/Market_/search/Result.vue?f35b","webpack:///./src/views/Market_/search/Result.vue"],"names":["Result","name","components","SearchInput","computed","showNoResultTips","this","searched","items","length","data","searchText","exactAsset","onsale","owner","expire","pagination","pagenumber","pagesize","total","domains","domaintext","shortAddress","sellprice","expireDate","methods","issearched","sta","InputChange","gotoWhois","text","$router","push","path","gotoBuying","$store","getters","$metamask","web3State","Object","web3","utils","wallet","$message","$basTip","error","pricevol","mounted","$route","params","search_Result","render","_vm","_h","$createElement","_c","_self","staticClass","on","_v","_s","$t","_e","_l","item","key","attrs","type","size","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/31.52a24641fdbea2cfdaf3.js","sourcesContent":["<template>\n  <div>\n    <div class=\"market-search-warp\">\n      <div class=\"container\">\n        <div class=\"row justify-content-center align-items-center\">\n          <div class=\"col-md-8 market-search--outer\">\n            <SearchInput v-on:issearched=\"issearched\" />\n            <!-- <el-input\n              @keyup.enter.native=\"queryDomains\"\n              class=\"market-search--input\"\n              placeholder=\"Please enter a domain name... \"\n              @input=\"InputChange\"\n              v-model=\"searchText\">\n              <el-button slot=\"append\" icon=\"el-icon-search\"\n                @click=\"queryDomains\"\n                class=\"basel-search-append--green\" >\n                Search\n              </el-button>\n            </el-input> -->\n            <div v-if=\"showNoResultTips\" class=\"no-result-tips bas-text-warning\">\n              {{$t('p.MarketSearchNoResultTip')}}\n            </div>\n            <div v-if=\"showNoResultTips\"></div>\n\n            \n          </div>\n        </div>\n        <!-- <div class=\"row justify-content-center align-items-center\">\n\n        </div> -->\n\n      </div>\n    </div>\n\n    <div class=\"search-result-wrap\">\n      <div class=\"container\">\n        <div class=\"row justify-content-center align-items-center pb-5\">\n          <!-- <div class=\"col-8\"> -->\n            <div class=\"bas-recom\">相似推荐</div>\n            <div class=\"row justify-content-between align-items-lg-baseline\">\n              <div v-for=\"item in domains\"\n              class=\"col-lg-6 col-md-6 bas-row--padding\"\n              :key=\"item.owner\">\n                <div class=\"bas-list-card\">\n                  <div class=\"list-card--header\">\n                    <div class=\"bas-block\">\n                      <h4>{{item.domaintext}}</h4>\n                      <p class=\"bas-small-owner\">\n                        {{item.shortAddress}}\n                      </p>\n                    </div>\n                    <div class=\"inline-btn-group\">\n                      <span class=\"number\">\n                        {{item.sellprice}}\n                      </span>\n                      <div class=\"bas-buy-button\">\n                        <el-button type=\"primary\" size=\"mini\" @click=\"gotoBuying(item)\">\n                          {{$t('l.Buying')}}\n                        </el-button>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"list-card--footer\">\n                    <div class=\"block-inline\">\n                      <p class=\"bas-small-expire\">\n                        {{$t('l.expire')}}:{{item.expireDate}}\n                      </p>\n                    </div>\n                    <div class=\"block-inline\">\n                      <a class=\"market-whois\" @click=\"gotoWhois(item.domaintext)\">\n                        Who is\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          <!-- </div> -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SearchInput from '@/views/Market_/components/SearchInput.vue'\nimport {\n  handleDomain,toUnicodeDomain,compressAddr,isOwner,\n  TS_DATEFORMAT,dateFormat,wei2Float\n} from '@/utils'\nimport {getWeb3State} from '@/bizlib/web3'\nimport DomainProxy from '@/proxies/DomainProxy.js'\n\nimport {MarketProxy} from '@/proxies/MarketProxy.js'\n\nexport default {\n  name:\"MarketSearchResult\",\n  components:{\n    SearchInput\n  },\n  computed: {\n    // exactHasexpired(){\n    //   if(!this.exactAsset.expire)return false;\n    //   return hasExpired(this.exactAsset.expire)\n    // },\n    // exactExist(){\n    //   return !!this.exactAsset.owner\n    // },\n    showNoResultTips(){\n      return this.searched && (!this.items || this.items.length==0)\n    }\n  },\n  data() {\n    return {\n      searchText:'',\n      searched:false,\n      exactAsset:{\n        onsale:false,\n        name:'',\n        owner:'asdasdasd',\n        expire:''\n      },\n      pagination:{\n        pagenumber:1,\n        pagesize:100,\n        total:0\n      },\n      items: [],\n      domains: [\n        {\n          owner: '0x08970…59FB',\n          domaintext: 'rte',\n          shortAddress: '0x08970…59FB',\n          sellprice: '2000',\n          expireDate: '2020-05-06'\n        },\n        {\n          owner: '0x08970…59FB',\n          domaintext: 'ngx',\n          shortAddress: '0x08970…59FB',\n          sellprice: '9000',\n          expireDate: '2020-05-06'\n        },\n        {\n          owner: '0x08970…59FB',\n          domaintext: 'coco',\n          shortAddress: '0x08970…59FB',\n          sellprice: '7800',\n          expireDate: '2020-05-06'\n        },\n        {\n          owner: '0x08970…59FB',\n          domaintext: 'nn',\n          shortAddress: '0x08970…59FB',\n          sellprice: '1900',\n          expireDate: '2020-05-06'\n        }\n      ]\n    }\n  },\n  methods: {\n    issearched(sta) {\n      this.searched = sta\n    },\n    // queryDomains(){\n    //   let text = this.searchText ? this.searchText.trim().toLowerCase() : ''\n    //   const data = {\n    //     pagenumber:1,\n    //     pagesize:100,\n    //     text:handleDomain(text)\n    //   }\n    //   console.log(data)\n    //   this.reloadResult(data)\n    // },\n    // reloadResult(params) {\n    //   const proxy = new MarketProxy()\n    //   let ruleState = this.$store.getters['web3/ruleState']\n    //   const decimals = ruleState.decimals || 18;\n\n    //   proxy.queryDomains(params).then(resp=>{\n    //     console.log(resp)\n    //     if(resp.state){\n    //       this.searched = true;\n    //       this.pagination.total = resp.totalpage\n    //       let list =resp.domains.map(item=>{\n    //         item.expireDate = item.expiretime ? dateFormat(item.expiretime,TS_DATEFORMAT) : ''\n    //         item.shortAddress = compressAddr(item.owner)\n    //         item.sellprice = item.price ?  wei2Float(item.price,decimals) : ''\n    //         item.domaintext = toUnicodeDomain(item.domain)\n    //         return item\n    //       })\n    //       console.log(list)\n    //       this.items = Object.assign(list)\n    //     }else{\n    //       this.searched = true;\n    //       this.hasResult =false;\n    //       this.pagination.total = 0\n    //       this.items = Object.assign([])\n    //     }\n    //   }).catch(ex=>{\n    //     console.log(ex)\n    //   })\n    // },\n    InputChange(){\n      console.log('Input>>>>>')\n      this.searched = false;\n    },\n    gotoWhois(text){\n      if(text){\n        this.$router.push({\n          path:`/domain/detail/${text}`\n        })\n      }\n    },\n    gotoBuying(data) {\n      if(this.$store.getters['metaMaskDisabled']){\n        this.$metamask()\n        return;\n      }\n      const web3State = getWeb3State()\n      if(isOwner(data.owner,web3State.wallet)){\n        this.$message(this.$basTip.error('当前域名已在您账户下,不需要购买.'))\n        return;\n      }\n      console.log(data)\n      let domaintext = data.domaintext\n      let pricevol = data.sellprice\n      //isOwner\n\n      if(domaintext && typeof pricevol !== 'undefined'){\n        this.$router.push({\n          path:`/market/buying/${domaintext}/${pricevol}`\n        })\n      }\n\n    }\n  },\n  mounted() {\n    let searchText = this.$route.params.searchText\n    this.searchText = searchText||'';\n    //if(this.searchText)\n    let data = {\n      pagenumber:1,\n      pagesize:100,\n      text: searchText ? handleDomain(searchText) :''\n    }\n    // this.reloadResult(data)\n  },\n}\n</script>\n<style scoped>\n.bas-recom {\n  text-align: center;\n  height: 25px;\n  font-size:18px;\n  font-family:PingFangSC-Medium,PingFang SC;\n  font-weight:500;\n  color:rgba(146,146,163,1);\n  line-height:25px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Market_/search/Result.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"market-search-warp\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center align-items-center\"},[_c('div',{staticClass:\"col-md-8 market-search--outer\"},[_c('SearchInput',{on:{\"issearched\":_vm.issearched}}),_vm._v(\" \"),(_vm.showNoResultTips)?_c('div',{staticClass:\"no-result-tips bas-text-warning\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('p.MarketSearchNoResultTip'))+\"\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.showNoResultTips)?_c('div'):_vm._e()],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"search-result-wrap\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center align-items-center pb-5\"},[_c('div',{staticClass:\"bas-recom\"},[_vm._v(\"相似推荐\")]),_vm._v(\" \"),_c('div',{staticClass:\"row justify-content-between align-items-lg-baseline\"},_vm._l((_vm.domains),function(item){return _c('div',{key:item.owner,staticClass:\"col-lg-6 col-md-6 bas-row--padding\"},[_c('div',{staticClass:\"bas-list-card\"},[_c('div',{staticClass:\"list-card--header\"},[_c('div',{staticClass:\"bas-block\"},[_c('h4',[_vm._v(_vm._s(item.domaintext))]),_vm._v(\" \"),_c('p',{staticClass:\"bas-small-owner\"},[_vm._v(\"\\n                      \"+_vm._s(item.shortAddress)+\"\\n                    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"inline-btn-group\"},[_c('span',{staticClass:\"number\"},[_vm._v(\"\\n                      \"+_vm._s(item.sellprice)+\"\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"bas-buy-button\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.gotoBuying(item)}}},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('l.Buying'))+\"\\n                      \")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"list-card--footer\"},[_c('div',{staticClass:\"block-inline\"},[_c('p',{staticClass:\"bas-small-expire\"},[_vm._v(\"\\n                      \"+_vm._s(_vm.$t('l.expire'))+\":\"+_vm._s(item.expireDate)+\"\\n                    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"block-inline\"},[_c('a',{staticClass:\"market-whois\",on:{\"click\":function($event){return _vm.gotoWhois(item.domaintext)}}},[_vm._v(\"\\n                      Who is\\n                    \")])])])])])}),0)])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cad63718\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Market_/search/Result.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cad63718\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Result.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Result.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Result.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cad63718\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Result.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cad63718\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Market_/search/Result.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}